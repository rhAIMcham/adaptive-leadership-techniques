<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adaptive Leadership Simulation</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-main: #f8fafc;
            --bg-card: #ffffff;
            --text-primary: #0f172a;
            --text-secondary: #64748b;
            --border: #e2e8f0;
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-main);
            color: var(--text-primary);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            transition: margin-right 0.3s ease;
        }

        .container.panel-open {
            margin-right: 450px;
        }

        /* Path Indicator */
        .path-indicator {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--bg-card);
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            font-size: 13px;
            font-weight: 600;
            z-index: 100;
            border-left: 4px solid var(--primary);
        }

        .path-indicator.excellence {
            border-left-color: var(--success);
            color: var(--success);
        }

        .path-indicator.struggling {
            border-left-color: var(--warning);
            color: #92400e;
        }

        .path-indicator.crisis {
            border-left-color: var(--danger);
            color: var(--danger);
        }

        .path-indicator.recovery {
            border-left-color: #2563eb;
            color: #2563eb;
        }

        /* Introduction Screen */
        .intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            z-index: 3000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .intro-screen.hidden {
            display: none;
        }

        .intro-content {
            background: var(--bg-card);
            border-radius: 16px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.5);
        }

        .intro-header {
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
            color: white;
            padding: 40px 40px 32px;
            border-radius: 16px 16px 0 0;
        }

        .intro-header h1 {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .intro-header .subtitle {
            font-size: 18px;
            opacity: 0.9;
        }

        .intro-body {
            padding: 40px;
        }

        .role-card {
            background: #f0f9ff;
            border-left: 4px solid var(--primary);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 32px;
        }

        .role-card h2 {
            font-size: 20px;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .role-card p {
            font-size: 15px;
            line-height: 1.7;
            color: var(--text-primary);
            margin-bottom: 16px;
        }

        .role-card p:last-child {
            margin-bottom: 0;
        }

        .role-card strong {
            color: var(--primary);
        }

        .key-concepts {
            background: #fef3c7;
            border-left: 4px solid var(--warning);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 32px;
        }

        .key-concepts h3 {
            font-size: 16px;
            color: #92400e;
            margin-bottom: 12px;
        }

        .key-concepts ul {
            margin-left: 20px;
            color: #78350f;
        }

        .key-concepts li {
            font-size: 14px;
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .intro-footer {
            padding: 24px 40px;
            border-top: 1px solid var(--border);
            text-align: center;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 16px;
        }

        .btn-large {
            padding: 16px 48px;
            font-size: 18px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Header */
        .header {
            background: var(--bg-card);
            padding: 24px;
            margin-bottom: 24px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 24px;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .header .subtitle {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .week-display {
            text-align: right;
        }

        .week-number {
            font-size: 32px;
            font-weight: bold;
            color: var(--primary);
        }

        .week-label {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        /* Dashboard Grid */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 24px;
        }

        /* Metric Cards */
        .metric-card {
            background: var(--bg-card);
            padding: 24px;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }

        .metric-label {
            font-size: 13px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .metric-value {
            font-size: 36px;
            font-weight: bold;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .metric-change {
            font-size: 14px;
            font-weight: 600;
        }

        .metric-change.positive {
            color: var(--success);
        }

        .metric-change.negative {
            color: var(--danger);
        }

        /* Stakeholder Section */
        .stakeholder-section {
            background: var(--bg-card);
            padding: 24px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            margin-bottom: 24px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--text-primary);
        }

        .stakeholder-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .stakeholder-card {
            padding: 16px;
            border-radius: 8px;
            border: 2px solid var(--border);
            background: #f8fafc;
        }

        .stakeholder-name {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .satisfaction-bar {
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .satisfaction-fill {
            height: 100%;
            transition: width 0.3s ease;
        }

        .satisfaction-fill.high {
            background: var(--success);
        }

        .satisfaction-fill.medium {
            background: var(--warning);
        }

        .satisfaction-fill.low {
            background: var(--danger);
        }

        .stakeholder-status {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* Chart Section */
        .chart-section {
            background: var(--bg-card);
            padding: 24px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            margin-bottom: 24px;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        /* Decision History */
        .history-section {
            background: var(--bg-card);
            padding: 24px;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }

        .history-item {
            padding: 16px;
            border-left: 4px solid var(--primary);
            background: #f8fafc;
            border-radius: 4px;
            margin-bottom: 12px;
        }

        .history-item.success {
            border-left-color: var(--success);
        }

        .history-item.warning {
            border-left-color: var(--warning);
        }

        .history-item.danger {
            border-left-color: var(--danger);
        }

        .history-week {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            margin-bottom: 4px;
        }

        .history-problem {
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--text-primary);
        }

        .history-action {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }

        .history-outcome {
            font-size: 13px;
            color: var(--text-secondary);
            font-style: italic;
        }

        /* Side Panel */
        .side-panel {
            position: fixed;
            top: 0;
            right: -500px;
            width: 500px;
            height: 100vh;
            background: var(--bg-card);
            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.15);
            transition: right 0.3s ease;
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }

        .side-panel.active {
            right: 0;
        }

        .panel-header {
            padding: 24px;
            border-bottom: 1px solid var(--border);
            background: var(--bg-main);
        }

        .panel-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .panel-week {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .panel-body {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
        }

        .problem-statement {
            background: #fef3c7;
            border-left: 4px solid var(--warning);
            padding: 16px;
            border-radius: 4px;
            margin-bottom: 24px;
        }

        .problem-statement h3 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #92400e;
        }

        .problem-statement p {
            font-size: 14px;
            color: #78350f;
            line-height: 1.6;
        }

        .branching-notice {
            background: #fee2e2;
            border-left: 4px solid var(--danger);
            padding: 12px;
            border-radius: 4px;
            margin-bottom: 16px;
            font-size: 13px;
            color: #991b1b;
        }

        .branching-notice.warning {
            background: #fef3c7;
            border-left-color: var(--warning);
            color: #92400e;
        }

        .branching-notice.success {
            background: #d1fae5;
            border-left-color: var(--success);
            color: #065f46;
        }

        .branching-notice.info {
            background: #dbeafe;
            border-left-color: var(--primary);
            color: #1e40af;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
        }

        .option:hover:not(.disabled):not(.locked) {
            border-color: var(--primary);
            transform: translateX(4px);
        }

        .option.selected {
            border-color: var(--primary);
            background: #dbeafe;
        }

        .option.disabled {
            pointer-events: none;
            opacity: 0.5;
        }

        .option.locked {
            background: #f1f5f9;
            border-color: #cbd5e1;
            opacity: 0.6;
            cursor: not-allowed;
        }

        .option-label {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .option.locked .option-label {
            color: var(--text-secondary);
        }

        .option-text {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .option-locked-text {
            font-size: 12px;
            color: var(--danger);
            font-style: italic;
            margin-top: 4px;
        }

        .feedback-panel {
            background: #dbeafe;
            border: 2px solid var(--primary);
            border-radius: 8px;
            padding: 16px;
            margin-top: 20px;
            display: none;
        }

        .feedback-panel.active {
            display: block;
        }

        .feedback-panel.success {
            background: #d1fae5;
            border-color: var(--success);
        }

        .feedback-panel.warning {
            background: #fef3c7;
            border-color: var(--warning);
        }

        .feedback-panel.danger {
            background: #fee2e2;
            border-color: var(--danger);
        }

        .feedback-title {
            font-weight: 600;
            margin-bottom: 8px;
        }

        .feedback-content {
            font-size: 14px;
            line-height: 1.6;
        }

        .panel-footer {
            padding: 20px 24px;
            border-top: 1px solid var(--border);
            background: var(--bg-main);
        }

        /* Completion Modal */
        .completion-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .completion-modal.active {
            display: flex;
        }

        .completion-content {
            background: var(--bg-card);
            border-radius: 16px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.3);
        }

        .completion-header {
            padding: 32px 32px 24px;
            text-align: center;
            border-bottom: 1px solid var(--border);
        }

        .completion-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .completion-subtitle {
            font-size: 16px;
            color: var(--text-secondary);
        }

        .completion-body {
            padding: 32px;
        }

        .performance-badge {
            display: inline-block;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 24px;
        }

        .performance-badge.excellence {
            background: #d1fae5;
            color: #065f46;
        }

        .performance-badge.struggling {
            background: #fef3c7;
            color: #92400e;
        }

        .performance-badge.crisis {
            background: #fee2e2;
            color: #991b1b;
        }

        .metrics-summary {
            background: var(--bg-main);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 24px;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid var(--border);
        }

        .summary-row:last-child {
            border-bottom: none;
        }

        .summary-label {
            font-weight: 600;
            color: var(--text-secondary);
        }

        .summary-value {
            font-weight: bold;
            color: var(--text-primary);
        }

        .key-insight {
            background: #fef3c7;
            border-left: 4px solid var(--warning);
            padding: 16px;
            border-radius: 4px;
            margin-bottom: 24px;
        }

        .key-insight h3 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #92400e;
        }

        .key-insight p {
            font-size: 14px;
            color: #78350f;
            line-height: 1.6;
        }

        .completion-footer {
            padding: 24px 32px;
            border-top: 1px solid var(--border);
            text-align: center;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .dashboard,
            .stakeholder-grid {
                grid-template-columns: 1fr;
            }

            .header {
                flex-direction: column;
                gap: 16px;
                text-align: center;
            }

            .week-display {
                text-align: center;
            }

            .side-panel {
                width: 100%;
                right: -100%;
            }

            .container.panel-open {
                margin-right: 0;
            }

            .intro-body {
                padding: 24px;
            }

            .intro-header {
                padding: 32px 24px 24px;
            }

            .path-indicator {
                top: 10px;
                left: 10px;
                font-size: 11px;
                padding: 8px 12px;
            }
        }
    </style>
</head>
<body>
    <!-- Path Indicator -->
    <div class="path-indicator" id="pathIndicator">Normal trajectory</div>

    <!-- Introduction Screen -->
    <div class="intro-screen" id="introScreen">
        <div class="intro-content">
            <div class="intro-header">
                <h1>Adaptive leadership simulation</h1>
                <p class="subtitle">Weeks 1-3 Prototype - Maximum Branching</p>
            </div>
            <div class="intro-body">
                <div class="role-card">
                    <h2>Your role</h2>
                    <p>You are <strong>Alex Chen, team lead for customer service</strong> at a rapidly growing SaaS company. Your team handles 500+ support tickets weekly across email, phone, and chat.</p>
                    <p>Leadership has tasked you with improving the customer service pipeline. You'll work with:</p>
                    <p><strong>• Tech team</strong> – They build the tools and systems you need<br>
                    <strong>• Sales team</strong> – They promise response times that affect your workload<br>
                    <strong>• Your service team</strong> – 12 agents dealing with growing pressure</p>
                    <p><strong>This prototype demonstrates maximum branching:</strong> Your Week 1 choice determines which of 3 different Week 2 scenarios you face. Your Week 2 choice then determines which Week 3 scenario you get. That's <strong>9 possible paths through just 3 weeks!</strong></p>
                </div>

                <div class="key-concepts">
                    <h3>Adaptive leadership principles</h3>
                    <ul>
                        <li><strong>Technical vs. adaptive problems:</strong> Technical problems have clear solutions; adaptive problems require new learning and behavior change</li>
                        <li><strong>Get on the balcony:</strong> Step back from the action to see patterns rather than reacting to pressure</li>
                        <li><strong>Regulate distress:</strong> Keep pressure productive—not so low people stay comfortable, not so high they shut down</li>
                        <li><strong>Give the work back:</strong> Don't solve problems for people; help them develop capacity to solve problems themselves</li>
                    </ul>
                </div>
            </div>
            <div class="intro-footer">
                <button class="btn btn-primary btn-large" onclick="startSimulation()">Begin simulation</button>
            </div>
        </div>
    </div>

    <div class="container" id="mainContainer">
        <!-- Header -->
        <div class="header">
            <div>
                <h1>Customer service process improvement</h1>
                <p class="subtitle">Team lead dashboard</p>
            </div>
            <div class="week-display">
                <div class="week-number" id="weekNumber">Week 1</div>
                <div class="week-label">Current week</div>
            </div>
        </div>

        <!-- Key Metrics Dashboard -->
        <div class="dashboard">
            <div class="metric-card">
                <div class="metric-label">Response time</div>
                <div class="metric-value" id="metricResponseTime">48hrs</div>
                <div class="metric-change negative" id="changeResponseTime">↑ 15hrs from baseline</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Customer satisfaction</div>
                <div class="metric-value" id="metricSatisfaction">68%</div>
                <div class="metric-change negative" id="changeSatisfaction">↓ 15pts from baseline</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Resolution rate</div>
                <div class="metric-value" id="metricResolution">52%</div>
                <div class="metric-change negative" id="changeResolution">↓ 15pts from baseline</div>
            </div>
        </div>

        <!-- Stakeholder Status -->
        <div class="stakeholder-section">
            <h2 class="section-title">Stakeholder relationships</h2>
            <div class="stakeholder-grid">
                <div class="stakeholder-card">
                    <div class="stakeholder-name">Sales team</div>
                    <div class="satisfaction-bar">
                        <div class="satisfaction-fill low" id="satSales" style="width: 45%"></div>
                    </div>
                    <div class="stakeholder-status" id="statusSales">45% - Angry about broken promises</div>
                </div>
                <div class="stakeholder-card">
                    <div class="stakeholder-name">Your service team</div>
                    <div class="satisfaction-bar">
                        <div class="satisfaction-fill medium" id="satTeam" style="width: 55%"></div>
                    </div>
                    <div class="stakeholder-status" id="statusTeam">55% - Burned out and defensive</div>
                </div>
                <div class="stakeholder-card">
                    <div class="stakeholder-name">Tech team</div>
                    <div class="satisfaction-bar">
                        <div class="satisfaction-fill medium" id="satTech" style="width: 60%"></div>
                    </div>
                    <div class="stakeholder-status" id="statusTech">60% - Skeptical of more requests</div>
                </div>
            </div>
        </div>

        <!-- Metrics Trend Chart -->
        <div class="chart-section">
            <h2 class="section-title">Performance trends</h2>
            <div class="chart-container">
                <canvas id="metricsChart"></canvas>
            </div>
        </div>

        <!-- Decision History -->
        <div class="history-section">
            <h2 class="section-title">Decision history</h2>
            <div id="historyContainer">
                <p style="color: var(--text-secondary); text-align: center;">No decisions made yet. Ready to begin Week 1.</p>
            </div>
        </div>
    </div>

    <!-- Side Panel for Decisions -->
    <div class="side-panel" id="decisionPanel">
        <div class="panel-header">
            <h2 class="panel-title" id="panelTitle">Decision required</h2>
            <p class="panel-week" id="panelWeek">Week 1</p>
        </div>
        <div class="panel-body">
            <div id="branchingNotice"></div>
            <div class="problem-statement">
                <h3>Current situation</h3>
                <p id="problemText"></p>
            </div>
            <div class="options-container" id="optionsContainer"></div>
            <div class="feedback-panel" id="feedbackPanel">
                <div class="feedback-title" id="feedbackTitle"></div>
                <div class="feedback-content" id="feedbackContent"></div>
            </div>
        </div>
        <div class="panel-footer">
            <button class="btn btn-primary" id="continueBtn" disabled>Continue to next week</button>
        </div>
    </div>

    <!-- Completion Modal -->
    <div class="completion-modal" id="completionModal">
        <div class="completion-content">
            <div class="completion-header">
                <h2 class="completion-title">Simulation complete!</h2>
                <p class="completion-subtitle">7 weeks of choices navigated.</p>
            </div>
            <div class="completion-body">
                <div style="text-align: center;">
                    <div class="performance-badge" id="performanceBadge">Path Complete</div>
                </div>
                
                <div class="metrics-summary">
                    <div class="summary-row">
                        <span class="summary-label">Response time:</span>
                        <span class="summary-value" id="finalResponseTime">--</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Customer satisfaction:</span>
                        <span class="summary-value" id="finalSatisfaction">--</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Resolution rate:</span>
                        <span class="summary-value" id="finalResolution">--</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Story path:</span>
                        <span class="summary-value" id="finalPath">--</span>
                    </div>
                </div>

                <div class="key-insight">
                    <h3>Your journey through Weeks 1-7</h3>
                    <p id="keyInsightText"></p>
                </div>

                <div style="margin-top: 24px; padding: 16px; background: var(--bg-main); border-radius: 8px;">
                    <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 8px; color: var(--text-secondary);">Next steps:</h4>
                    <p id="pathSummaryText" style="font-size: 14px; color: var(--text-secondary);"></p>
                </div>
            </div>
            <div class="completion-footer">
                <button class="btn btn-primary" onclick="location.reload()">Restart simulation</button>
            </div>
        </div>
    </div>

    <script>
        // ===== STATE MANAGEMENT =====
        const state = {
            currentWeek: 1,
            metrics: {
                responseTime: 48,
                satisfaction: 68,
                resolution: 52
            },
            stakeholders: {
                sales: 45,
                team: 55,
                tech: 60
            },
            history: [],
            metricsHistory: [
                { week: 0, responseTime: 33, satisfaction: 83, resolution: 67 }
            ],
            decisionPath: [],
            storyPath: 'normal',
            specificChoices: {
                week1Choice: null,
                week2Choice: null
            }
        };

        // ===== SCENARIO DATA WITH MAXIMUM BRANCHING =====
        const scenarios = {
            // WEEK 1 - Universal starting point
            week1: {
                week: 1,
                problem: "Your inbox on Monday morning is full of problems. Sales is furious; clients are complaining about 48-hour response times when they were promised 24 hours. These are new clients, and first impressions haven't been great. Your team is overwhelmed and defensive, saying 'We're doing our best with what we have.' Tech says they can't build you more tools this quarter. Everyone wants a meeting with you today. How do you respond?",
                options: [
                    {
                        id: 'w1_meetings',
                        label: "Schedule individual meetings with each stakeholder",
                        text: "Meet with Sales, your team, and Tech separately to hear their perspectives and address concerns.",
                        decisionQuality: "poor",
                        impact: {
                            responseTime: 2,
                            satisfaction: -3,
                            resolution: -2,
                            sales: -5,
                            team: -8,
                            tech: -5
                        },
                        feedback: {
                            type: "danger",
                            title: "Reactive firefighting",
                            content: "You spent 6 hours in back-to-back meetings. Each group vented. Sales blamed your team, your team blamed Sales for overpromising, and Tech said they're slammed. You're exhausted, nothing changed, and everyone feels unheard because you're just collecting complaints without a strategy."
                        }
                    },
                    {
                        id: 'w1_diagnose',
                        label: "Diagnose the process mismatch first",
                        text: "Postpone meetings by 48 hours. Spend time mapping the actual workflow vs. what was designed, looking for systemic gaps.",
                        decisionQuality: "excellent",
                        impact: {
                            responseTime: 0,
                            satisfaction: 3,
                            resolution: 2,
                            sales: 8,
                            team: 10,
                            tech: 12
                        },
                        feedback: {
                            type: "success",
                            title: "Getting on the balcony",
                            content: "You discovered the root cause: Sales sells one-size-fits-all support, but customers need three different service levels. Your single-queue process can't optimise for both speed AND customisation. When you share this diagnosis with stakeholders, everyone stops blaming each other and starts problem-solving."
                        }
                    },
                    {
                        id: 'w1_pushback',
                        label: "Push back on Sales immediately",
                        text: "Tell Sales to stop overpromising. They need to align their commitments with your current capacity.",
                        decisionQuality: "poor",
                        impact: {
                            responseTime: 0,
                            satisfaction: -2,
                            resolution: -1,
                            sales: -15,
                            team: 8,
                            tech: 0
                        },
                        feedback: {
                            type: "warning",
                            title: "Protecting your team, burning bridges",
                            content: "Your team appreciates you standing up for them. But Sales leadership escalates to your VP, saying you're 'not a team player.' The real problem of poor process design remains unsolved. You've treated this as a Sales problem when it's a systems problem."
                        }
                    },
                    {
                        id: 'w1_tech',
                        label: "Ask Tech to build automation immediately",
                        text: "Request urgent help from Tech to automate ticket routing and responses to reduce the load.",
                        decisionQuality: "poor",
                        impact: {
                            responseTime: 1,
                            satisfaction: 0,
                            resolution: 0,
                            sales: 0,
                            team: -3,
                            tech: -12
                        },
                        feedback: {
                            type: "warning",
                            title: "Solution before diagnosis",
                            content: "Tech pushes back hard, frustrated at being asked to fix a problem you don't fully understand yet. They're already over capacity with product work, and this additional task is pulling resources from their primary tasks. Your relationships are damaged. Your team feels you're looking for tech silver bullets instead of understanding their reality."
                        }
                    }
                ]
            },

            // WEEK 2 - Excellence Path
            week2_excellence: {
                week: 2,
                problem: "Your diagnosis revealed that enterprise clients need fast, personalised service while small customers just want quick template responses. But your single process tries to serve everyone the same way. With strong stakeholder buy-in from your diagnosis, how do you redesign the system?",
                options: [
                    {
                        id: 'w2e_tiered',
                        label: "Design tiered service pathways",
                        text: "Create three distinct processes: VIP (enterprise, personalised), Standard (balanced), Self-Service (template-driven). Each optimised differently.",
                        decisionQuality: "excellent",
                        impact: {
                            responseTime: -8,
                            satisfaction: 10,
                            resolution: 8,
                            sales: 18,
                            team: 15,
                            tech: 12
                        },
                        feedback: {
                            type: "success",
                            title: "Adaptive process architecture",
                            content: "By accepting you can't optimise one process for all needs, you solved the impossible trade-off. Sales can now promise differentiated service. Your team isn't stretched thin trying to personalise everything. Tech sees clear requirements for each tier. By changing the system to reflect evolving needs, time and energy is used effectively."
                        }
                    },
                    {
                        id: 'w2e_contractors',
                        label: "Hire 3 temporary contractors",
                        text: "Address the volume problem immediately by bringing on extra hands to reduce the backlog.",
                        decisionQuality: "partial",
                        impact: {
                            responseTime: -4,
                            satisfaction: 2,
                            resolution: 0,
                            sales: 3,
                            team: -5,
                            tech: 0
                        },
                        feedback: {
                            type: "warning",
                            title: "Missing the strategic opportunity",
                            content: "Contractors help with volume but you haven't solved the fundamental process mismatch. You had momentum and stakeholder trust; this was the moment to redesign the system. Instead, you added capacity to a broken process."
                        }
                    },
                    {
                        id: 'w2e_chatbot',
                        label: "Implement AI chatbot for tier 1 support",
                        text: "Use technology to handle simple queries automatically, freeing your team for complex issues.",
                        decisionQuality: "partial",
                        impact: {
                            responseTime: -3,
                            satisfaction: 3,
                            resolution: 2,
                            sales: 5,
                            team: 2,
                            tech: -3
                        },
                        feedback: {
                            type: "warning",
                            title: "Technology before strategy",
                            content: "Chatbot helps with 25% of volume but you still have a single undifferentiated process. You had a moment to redesign the entire system, and while a chatbot is helpful, it doesn't address the core structural problem you identified."
                        }
                    }
                ]
            },

            // WEEK 2 - Struggling Path
            week2_crisis: {
                week: 2,
                problem: "After your reactive approach last week, stakeholders are skeptical but willing to give you another chance. Sales says 'just hire more people.' Your team says 'we need better tools.' Tech says 'we need clearer requirements.' You need to show strategic thinking to rebuild credibility.",
                options: [
                    {
                        id: 'w2s_twotier',
                        label: "Two-tier service model",
                        text: "Simplified approach: Premium (paying customers) and Standard (everyone else). Less complex than three tiers, more strategic than just adding people.",
                        decisionQuality: "partial",
                        impact: {
                            responseTime: -5,
                            satisfaction: 6,
                            resolution: 5,
                            sales: 10,
                            team: 8,
                            tech: 7
                        },
                        feedback: {
                            type: "success",
                            title: "Recovery through simplicity",
                            content: "Given your earlier missteps, stakeholders appreciate this pragmatic approach. Two tiers are simpler to implement and show you're thinking systemically. Not as optimal as three tiers, but you're rebuilding trust through achievable improvements."
                        }
                    },
                    {
                        id: 'w2s_contractors',
                        label: "Hire 3 temporary contractors",
                        text: "Show quick action. Bring on extra hands to demonstrate you're addressing the problem.",
                        decisionQuality: "poor",
                        impact: {
                            responseTime: -3,
                            satisfaction: 0,
                            resolution: -1,
                            sales: 2,
                            team: -6,
                            tech: 0
                        },
                        feedback: {
                            type: "danger",
                            title: "Doubling down on reactive approach",
                            content: "You had a chance to show strategic thinking. Instead, you're still treating symptoms. Contractors drain budget without solving the process problem. Stakeholders lose faith that you can lead systemic change."
                        }
                    },
                    {
                        id: 'w2s_chatbot',
                        label: "Basic automation and triage",
                        text: "Quick wins: automated responses for common questions, simple priority system for urgent vs. standard tickets.",
                        decisionQuality: "partial",
                        impact: {
                            responseTime: -2,
                            satisfaction: 3,
                            resolution: 2,
                            sales: 4,
                            team: 3,
                            tech: 2
                        },
                        feedback: {
                            type: "warning",
                            title: "Incremental improvement",
                            content: "Basic triage helps but doesn't demonstrate the strategic thinking stakeholders were hoping for. You're making tactical improvements when they wanted to see you tackle the root cause."
                        }
                    }
                ]
            },

            // WEEK 2 - Crisis Path
            week2_struggling: {
                week: 2,
                problem: "Trust is critically low after last week's failures. Sales is bypassing you and complaining to leadership. Your team morale is cratering—two people are actively interviewing elsewhere. Tech has written you off. You need to stabilize before you can strategize. What's your emergency response?",
                options: [
                    {
                        id: 'w2c_emergency',
                        label: "Emergency triage system",
                        text: "Stop the bleeding: VIP clients get immediate attention, everything else queued. Brutal prioritization until you stabilize.",
                        decisionQuality: "partial",
                        impact: {
                            responseTime: -4,
                            satisfaction: 2,
                            resolution: 1,
                            sales: 8,
                            team: -2,
                            tech: 0
                        },
                        feedback: {
                            type: "warning",
                            title: "Survival mode",
                            content: "You're in damage control. VIP prioritization prevents immediate customer losses, which buys you time. Sales slightly happier. But team sees this as reactive, not strategic. You're treading water, not swimming to shore."
                        }
                    },
                    {
                        id: 'w2c_contractors',
                        label: "Hire contractors + work overtime",
                        text: "Throw resources at the problem. Contractors plus team overtime to catch up on backlog.",
                        decisionQuality: "poor",
                        impact: {
                            responseTime: -2,
                            satisfaction: -1,
                            resolution: -1,
                            sales: 3,
                            team: -10,
                            tech: 0
                        },
                        feedback: {
                            type: "danger",
                            title: "Making it worse",
                            content: "Overtime burns out your already-fragile team. One person quits. Contractors are poorly trained and make errors. You've added chaos to crisis. Budget is blown with no strategic gain."
                        }
                    },
                    {
                        id: 'w2c_escalate',
                        label: "Escalate to leadership for help",
                        text: "Be honest with your VP: 'I need help. This is beyond my current capacity. What resources can you provide?'",
                        decisionQuality: "partial",
                        impact: {
                            responseTime: 0,
                            satisfaction: 1,
                            resolution: 1,
                            sales: 5,
                            team: 5,
                            tech: 3
                        },
                        feedback: {
                            type: "warning",
                            title: "Asking for help",
                            content: "Your VP assigns a senior manager to mentor you and unlocks budget for a consultant. It's humbling but shows self-awareness. You've acknowledged you're in over your head. The question is whether you can learn fast enough."
                        }
                    }
                ]
            },

            // WEEK 3 - Excellence + Excellent (Best path)
            week3_excellence_excellent: {
                week: 3,
                problem: "Your tiered service model design is excellent, but now comes execution. Sales wants it launched immediately to save Q4 deals. Your team is excited but nervous. Tech wants a 6-week pilot. Leadership is pressuring for 'quick wins.' How do you manage this pressure?",
                options: [
                    {
                        id: 'w3ee_pilot',
                        label: "Run controlled 4-week pilot with 20% of volume",
                        text: "Firm boundary: 'We'll test with a subset, learn, adjust, then scale confidently. No shortcuts.'",
                        decisionQuality: "excellent",
                        impact: {
                            responseTime: -6,
                            satisfaction: 8,
                            resolution: 7,
                            sales: 12,
                            team: 15,
                            tech: 18
                        },
                        feedback: {
                            type: "success",
                            title: "Holding steady under pressure",
                            content: "You regulated the distress. Told Sales: 'I understand urgency, but a failed launch hurts Q4 more than waiting 4 weeks.' Pilot revealed edge cases you'd never have predicted. Scaled with confidence. Stakeholders see you won't cave to pressure, and you can be trusted to make sound decisions."
                        }
                    },
                    {
                        id: 'w3ee_launch',
                        label: "Launch to all enterprise clients first",
                        text: "Compromise: Full rollout for VIP tier only, learn from real usage, then expand to other tiers.",
                        decisionQuality: "partial",
                        impact: {
                            responseTime: -4,
                            satisfaction: 5,
                            resolution: 4,
                            sales: 8,
                            team: 5,
                            tech: 3
                        },
                        feedback: {
                            type: "warning",
                            title: "Managed risk",
                            content: "VIP-only launch is less risky than full rollout but more risky than pilot. Some classification issues emerge. You're moving fast but not recklessly. Stakeholders appreciate speed but worry you're cutting corners."
                        }
                    },
                    {
                        id: 'w3ee_immediate',
                        label: "Launch everything immediately",
                        text: "Show confidence in your design. Full rollout this week across all tiers.",
                        decisionQuality: "poor",
                        impact: {
                            responseTime: 5,
                            satisfaction: -8,
                            resolution: -5,
                            sales: -12,
                            team: -15,
                            tech: -12
                        },
                        feedback: {
                            type: "danger",
                            title: "Overconfidence destroys momentum",
                            content: "Classification errors everywhere. System crashes. Enterprise client escalated to CEO after misrouting. Had to roll back. All your credibility from the great design evaporated. Pressure made you rush instead of regulate distress."
                        }
                    }
                ]
            },

            // WEEK 3 - Excellence + Partial (Good path with some struggles)
            week3_excellence_partial: {
                week: 3,
                problem: "You hired contractors to help with volume, but they're struggling to understand your tier model. Meanwhile, Sales is pushing for faster implementation. Your core team is doing well but stretched thin training contractors. How do you get execution back on track?",
                options: [
                    {
                        id: 'w3ep_training',
                        label: "Intensive 2-day training workshop",
                        text: "Pause contractor onboarding. Train everyone thoroughly on tier classification and service standards.",
                        decisionQuality: "excellent",
                        impact: {
                            responseTime: -3,
                            satisfaction: 6,
                            resolution: 5,
                            sales: 8,
                            team: 12,
                            tech: 5
                        },
                        feedback: {
                            type: "success",
                            title: "Investing in capability",
                            content: "Two days of training pays off immediately. Contractors now understand the 'why' behind tiers. Consistency improves. Your core team feels supported. You chose to build capacity over rushing forward."
                        }
                    },
                    {
                        id: 'w3ep_release',
                        label: "Release contractors, refocus on core team",
                        text: "Cut losses. Let contractors go and focus on making your core team excellent at the tier model.",
                        decisionQuality: "partial",
                        impact: {
                            responseTime: 0,
                            satisfaction: 4,
                            resolution: 3,
                            sales: 3,
                            team: 8,
                            tech: 2
                        },
                        feedback: {
                            type: "warning",
                            title: "Back to square one on capacity",
                            content: "Core team is stronger but you're back to volume challenges. Contractors were a misstep, but releasing them doesn't solve the underlying capacity need. You've stabilized quality at the cost of scale."
                        }
                    },
                    {
                        id: 'w3ep_push',
                        label: "Push contractors to perform",
                        text: "Set clear performance standards. Those who can't meet them by end of week are let go.",
                        decisionQuality: "poor",
                        impact: {
                            responseTime: 2,
                            satisfaction: -2,
                            resolution: -1,
                            sales: -3,
                            team: -5,
                            tech: 0
                        },
                        feedback: {
                            type: "danger",
                            title: "Accountability without support",
                            content: "Contractors feel set up to fail. Two quit immediately. Core team is frustrated—they see you didn't invest in proper training but are blaming contractors. Morale drops across the board."
                        }
                    }
                ]
            },

            // WEEK 3 - Struggling/Recovery + Partial (Recovery path)
            week3_struggling_partial: {
                week: 3,
                problem: "Your two-tier model from last week is showing promise, but implementation is messy. Premium customers are happy, but Standard tier is still struggling. Sales wants to upsell everyone to Premium. Your team is handling the split inconsistently. You need to tighten execution while maintaining momentum.",
                options: [
                    {
                        id: 'w3sp_training',
                        label: "Intensive 2-day training workshop",
                        text: "Pause new implementations. Train the entire team on tier classification, escalation paths, and service standards for each tier.",
                        decisionQuality: "excellent",
                        impact: {
                            responseTime: -3,
                            satisfaction: 6,
                            resolution: 6,
                            sales: 8,
                            team: 12,
                            tech: 5
                        },
                        feedback: {
                            type: "success",
                            title: "Investing in capability",
                            content: "Two days of training pays off immediately. Agents now understand the 'why' behind tiers, not just the 'what.' Consistency improves. Your team feels empowered, not confused. You chose to build capacity over rushing forward."
                        }
                    },
                    {
                        id: 'w3sp_playbook',
                        label: "Create detailed decision playbook",
                        text: "Document every scenario and edge case. Give agents a manual to follow for consistency.",
                        decisionQuality: "partial",
                        impact: {
                            responseTime: 0,
                            satisfaction: 2,
                            resolution: 2,
                            sales: 3,
                            team: -2,
                            tech: 0
                        },
                        feedback: {
                            type: "warning",
                            title: "Rules over judgment",
                            content: "Playbook helps with consistency but agents follow rules mechanically. They stop thinking critically. New situations arise not covered in the playbook—decision-making freezes. You chose documentation over developing judgment."
                        }
                    },
                    {
                        id: 'w3sp_push',
                        label: "Push forward despite messiness",
                        text: "Inconsistency is part of learning. Keep moving, fix problems as they arise.",
                        decisionQuality: "poor",
                        impact: {
                            responseTime: 2,
                            satisfaction: -3,
                            resolution: -2,
                            sales: -5,
                            team: -5,
                            tech: -3
                        },
                        feedback: {
                            type: "danger",
                            title: "Losing control",
                            content: "Inconsistency breeds customer complaints. Agents are confused and making it up as they go. The tier system is becoming meaningless. You had momentum—now you're losing it by not investing in proper execution."
                        }
                    }
                ]
            },

            // WEEK 3 - Struggling + Poor (Sliding toward crisis)
            week3_struggling_poor: {
                week: 3,
                problem: "After hiring contractors last week without a clear plan, you're dealing with quality issues and team frustration. Two contractors made serious errors with VIP clients. Your core team is demoralized. Sales is getting complaints. You need to stop the bleeding.",
                options: [
                    {
                        id: 'w3spo_roadmap',
                        label: "Present 60-day improvement roadmap",
                        text: "Be transparent: Here's our current state, here's the plan to get to sustainable operations, here are the milestones.",
                        decisionQuality: "excellent",
                        impact: {
                            responseTime: -2,
                            satisfaction: 4,
                            resolution: 3,
                            sales: 10,
                            team: 10,
                            tech: 8
                        },
                        feedback: {
                            type: "success",
                            title: "Leadership through honesty",
                            content: "Your roadmap acknowledges reality while showing a clear path forward. Stakeholders appreciate the honesty and structure. Your VP commits resources. Team sees hope instead of chaos. You've turned crisis into a managed recovery plan."
                        }
                    },
                    {
                        id: 'w3spo_release',
                        label: "Release all contractors immediately",
                        text: "Cut losses. Focus on stabilizing with just your core team.",
                        decisionQuality: "partial",
                        impact: {
                            responseTime: 1,
                            satisfaction: 1,
                            resolution: 1,
                            sales: 2,
                            team: 5,
                            tech: 0
                        },
                        feedback: {
                            type: "warning",
                            title: "Damage control",
                            content: "Quality improves but you're back to capacity issues. Core team appreciates the decision but is overwhelmed by volume. You've chosen stability over scale, which may be right for now but doesn't solve the long-term problem."
                        }
                    },
                    {
                        id: 'w3spo_blame',
                        label: "Escalate contractor issues to VP",
                        text: "Explain that contractors weren't properly vetted. Request better hiring support from HR.",
                        decisionQuality: "poor",
                        impact: {
                            responseTime: 2,
                            satisfaction: -3,
                            resolution: -2,
                            sales: -5,
                            team: -8,
                            tech: -3
                        },
                        feedback: {
                            type: "danger",
                            title: "Deflecting responsibility",
                            content: "VP asks: 'Who decided to hire them without a training plan?' You look like you're avoiding ownership. Team sees you're not taking responsibility for your decisions. Trust drops further."
                        }
                    }
                ]
            },

            // WEEK 3 - Crisis + Partial (In the depths)
            week3_crisis_partial: {
                week: 3,
                problem: "After your emergency triage last week, things have barely stabilized. Your VP is watching closely. Sales grudgingly accepts VIP prioritization but warns 'this better be temporary.' Your team is exhausted. One contractor is working out; two are disasters. You're still in crisis mode but need to show a path forward.",
                options: [
                    {
                        id: 'w3cp_roadmap',
                        label: "Present 60-day improvement roadmap",
                        text: "Be transparent: Here's our current state, here's the plan to get to sustainable operations, here are the milestones.",
                        decisionQuality: "excellent",
                        impact: {
                            responseTime: -2,
                            satisfaction: 4,
                            resolution: 3,
                            sales: 10,
                            team: 10,
                            tech: 8
                        },
                        feedback: {
                            type: "success",
                            title: "Leadership through honesty",
                            content: "Your roadmap acknowledges reality while showing a clear path forward. Stakeholders appreciate the honesty and structure. Your VP commits resources. Team sees hope instead of chaos. You've turned crisis into a managed recovery plan."
                        }
                    },
                    {
                        id: 'w3cp_keep',
                        label: "Keep doing emergency triage",
                        text: "Don't rock the boat. VIP prioritization is working well enough. Just maintain this until pressure decreases.",
                        decisionQuality: "poor",
                        impact: {
                            responseTime: 0,
                            satisfaction: -1,
                            resolution: 0,
                            sales: 3,
                            team: -8,
                            tech: -3
                        },
                        feedback: {
                            type: "danger",
                            title: "Stuck in survival mode",
                            content: "You're confusing stability with progress. Team morale continues dropping—they see no end in sight. Standard customers are being neglected. Your VP loses patience: 'What's the actual plan here?' Triage isn't strategy."
                        }
                    },
                    {
                        id: 'w3cp_escalate',
                        label: "Request additional senior leadership support",
                        text: "Ask VP to assign a director-level person to co-lead the recovery with you.",
                        decisionQuality: "partial",
                        impact: {
                            responseTime: -1,
                            satisfaction: 2,
                            resolution: 2,
                            sales: 5,
                            team: 3,
                            tech: 5
                        },
                        feedback: {
                            type: "warning",
                            title: "Shared leadership",
                            content: "VP assigns a director to help. It takes pressure off you but also signals you couldn't handle it alone. The director brings expertise but you've lost some autonomy. Progress happens but at the cost of your leadership credibility."
                        }
                    }
                ]
            },

            // WEEK 3 - Crisis + Poor (Rock bottom)
            week3_crisis_poor: {
                week: 3,
                problem: "Last week's overtime push backfired catastrophically. Another team member quit. Contractors are underperforming. Customer complaints have doubled. Your VP called an emergency meeting: 'We need to see immediate improvement or make leadership changes.' This is your last chance.",
                options: [
                    {
                        id: 'w3cpo_honest',
                        label: "Transparent assessment and ask for help",
                        text: "Complete honesty: 'I made mistakes. Here's what I've learned. Here's what I need to succeed.'",
                        decisionQuality: "excellent",
                        impact: {
                            responseTime: -1,
                            satisfaction: 3,
                            resolution: 2,
                            sales: 8,
                            team: 12,
                            tech: 8
                        },
                        feedback: {
                            type: "success",
                            title: "Humility opens doors",
                            content: "Your honest assessment stuns the room. VP respects the self-awareness. Team sees you're learning. You get a coach, additional budget, and 30 days to turn it around. You've earned a genuine second chance through vulnerability."
                        }
                    },
                    {
                        id: 'w3cpo_promises',
                        label: "Promise dramatic improvement",
                        text: "Commit to 50% improvement in 2 weeks. Work nights and weekends to make it happen.",
                        decisionQuality: "poor",
                        impact: {
                            responseTime: 1,
                            satisfaction: -4,
                            resolution: -3,
                            sales: -8,
                            team: -15,
                            tech: -5
                        },
                        feedback: {
                            type: "danger",
                            title: "Desperation makes it worse",
                            content: "You can't deliver on the promise. Work yourself to exhaustion. Make errors. Team sees panic. VP sees unrealistic thinking. Two weeks later, metrics are worse. You're facing reassignment or termination."
                        }
                    },
                    {
                        id: 'w3cpo_basic',
                        label: "Implement most basic fixes only",
                        text: "Strip everything down to absolute basics. Just answer tickets in order received. No sophistication.",
                        decisionQuality: "partial",
                        impact: {
                            responseTime: 0,
                            satisfaction: 0,
                            resolution: 0,
                            sales: 2,
                            team: -3,
                            tech: 0
                        },
                        feedback: {
                            type: "warning",
                            title: "Survival baseline",
                            content: "You've stopped the bleeding but haven't shown any path to improvement. VP gives you 2 more weeks to show a real plan. You're stable but on thin ice. Better than disaster, barely."
                        }
                    }
                ]
            },

            // =====================
// WEEK 4
// =====================

// WEEK 4 - Excellence + Excellent
week4_excellence_excellent: {
  week: 4,
  problem:
    "Pilot results are in—tiered service works. VIP response times are down, escalations are cleaner, and Sales is suddenly calmer. But a new tension is brewing inside your team: senior agents love the VIP tier (complex work, grateful customers), while junior agents feel stuck doing low-tier ‘grunt work.’ Two have privately said they’ll resign if nothing changes. How do you address this adaptive challenge without breaking what’s working?",
  options: [
    {
      id: "w4ee_rotate",
      label: "Rotate everyone through all tiers equally",
      text:
        "Make it ‘fair’ by having every agent spend equal time in each tier, regardless of capability, to reduce resentment.",
      decisionQuality: "poor",
      impact: { responseTime: 3, satisfaction: -3, resolution: -2, sales: -8, team: -5, tech: 0 },
      feedback: {
        type: "warning",
        title: "Equality over effectiveness",
        content:
          "Rotation feels fair, but it creates chaos. VIP customers experience inconsistent quality, senior agents feel their expertise isn’t valued, and junior agents feel exposed and overwhelmed. You applied a technical policy (rotation) to an adaptive need (growth, meaning, and status). The resentment shifts—but it doesn’t disappear."
      }
    },
    {
      id: "w4ee_growth",
      label: "Create clear growth pathways across tiers",
      text:
        "Co-design a progression pathway from Self-Service → Standard → VIP, with clear skills, metrics, and mentorship—so junior agents can see a path, not a ceiling.",
      decisionQuality: "excellent",
      impact: { responseTime: -4, satisfaction: 6, resolution: 5, sales: 8, team: 18, tech: 5 },
      feedback: {
        type: "success",
        title: "Giving the work back to them",
        content:
          "You run a team workshop and let agents define what ‘VIP-ready’ looks like—skills, behaviors, and decision judgment. Self-Service becomes a safe training ground, Standard becomes the growth tier, and VIP becomes earned mastery. Junior agents stop seeing the lower tiers as ‘punishment’ and start seeing them as progression. You didn’t fix morale for them—you built a system where they can grow themselves."
      }
    },
    {
      id: "w4ee_payTiers",
      label: "Pay differential for VIP tier work",
      text:
        "Introduce additional pay for VIP work to recognise complexity and signal that VIP cases are ‘higher value.’",
      decisionQuality: "partial",
      impact: { responseTime: -2, satisfaction: 0, resolution: 2, sales: 3, team: 4, tech: 0 },
      feedback: {
        type: "warning",
        title: "Money soothes—then the question returns",
        content:
          "The pay differential quiets frustration briefly, but it hardens the tier boundary. Juniors now want a path—and a fair process—to reach VIP, not just a reminder that they’re not there yet. You improved recognition, but you still haven’t addressed the deeper adaptive need: growth, mastery, and dignity in the work."
      }
    }
  ]
},

// WEEK 4 - Excellence + Partial
week4_excellence_partial: {
  week: 4,
  problem:
    "The pilot is trending positive, but your execution still relies heavily on a few strong performers. Now the team is splitting: senior agents want to stay in VIP; juniors feel stuck and resentful, and two have threatened to quit. You need to stabilise morale without losing service quality.",
  options: [
    {
      id: "w4ee_rotate",
      label: "Rotate everyone through all tiers equally",
      text:
        "Enforce equal time across tiers to reduce status tension—even if capability varies.",
      decisionQuality: "poor",
      impact: { responseTime: 3, satisfaction: -3, resolution: -2, sales: -8, team: -5, tech: 0 },
      feedback: {
        type: "warning",
        title: "Fairness becomes volatility",
        content:
          "You reduced perceived hierarchy, but you created inconsistent outcomes for customers. Juniors feel thrown in the deep end, seniors feel pulled away from the work they’re best at, and the tier model starts to feel like a revolving door rather than a system. Morale doesn’t improve—people just complain about different things."
      }
    },
    {
      id: "w4ee_growth",
      label: "Create clear growth pathways across tiers",
      text:
        "Clarify what advancement looks like, build mentoring into the week, and set transparent criteria for moving up tiers.",
      decisionQuality: "excellent",
      impact: { responseTime: -4, satisfaction: 6, resolution: 5, sales: 8, team: 18, tech: 5 },
      feedback: {
        type: "success",
        title: "Progression replaces resentment",
        content:
          "You make the system legible: what skills matter, how people develop, and how they prove readiness. Juniors stop feeling trapped, seniors become coaches (not gatekeepers), and the team begins to self-regulate quality. The tier model strengthens because people can see themselves inside it."
      }
    },
    {
      id: "w4ee_payTiers",
      label: "Pay differential for VIP tier work",
      text:
        "Offer extra compensation for VIP handling to reward expertise and retention.",
      decisionQuality: "partial",
      impact: { responseTime: -2, satisfaction: 0, resolution: 2, sales: 3, team: 4, tech: 0 },
      feedback: {
        type: "warning",
        title: "Recognition without development",
        content:
          "You’ve acknowledged senior expertise, but juniors still don’t know how to grow. The pay gap becomes a symbol of ‘who matters.’ A development pathway would turn that same gap into motivation; without it, it becomes division."
      }
    }
  ]
},

// WEEK 4 - Struggling/Recovery + Partial
week4_struggling_partial: {
  week: 4,
  problem:
    "Your simplified tier approach is showing promise, but implementation is inconsistent. Premium customers are happy, Standard is still messy, and agents aren’t classifying work the same way. Sales is pushing to upsell everyone to Premium. You need tighter execution without crushing momentum.",
  options: [
    {
      id: "w4sp_training",
      label: "Run an intensive 2-day calibration workshop",
      text:
        "Pause expansion. Train the whole team on tier classification, escalation paths, and what ‘good’ looks like in each tier—with live practice and calibration.",
      decisionQuality: "excellent",
      impact: { responseTime: -3, satisfaction: 6, resolution: 6, sales: 8, team: 12, tech: 5 },
      feedback: {
        type: "success",
        title: "Investing in capability",
        content:
          "The workshop creates shared judgment, not just shared rules. Agents align on what belongs in Premium vs Standard, how to escalate, and when to break the pattern. Consistency improves quickly, and Sales gains confidence because you can now explain the model clearly—without overselling it."
      }
    },
    {
      id: "w4sp_playbook",
      label: "Create a detailed decision playbook",
      text:
        "Document common scenarios and edge cases so agents can follow a manual for consistent classification and escalation.",
      decisionQuality: "partial",
      impact: { responseTime: 0, satisfaction: 2, resolution: 2, sales: 3, team: -2, tech: 0 },
      feedback: {
        type: "warning",
        title: "Rules over judgment",
        content:
          "The playbook helps at first, but agents start ‘checking the manual’ instead of thinking. When a case doesn’t fit, work stalls and escalations spike. You improved consistency, but you didn’t build confidence in decision-making."
      }
    },
    {
      id: "w4sp_push",
      label: "Push forward and fix issues as they appear",
      text:
        "Accept inconsistency as the cost of learning. Keep scaling and patch problems in real time.",
      decisionQuality: "poor",
      impact: { responseTime: 2, satisfaction: -3, resolution: -2, sales: -5, team: -5, tech: -3 },
      feedback: {
        type: "danger",
        title: "Momentum without control",
        content:
          "Customers experience wildly different service week to week. Agents improvise their own tier logic, and the model starts to lose meaning. You didn’t regulate distress—now the team is stressed, Sales is nervous, and Tech is frustrated by constant ‘urgent’ changes."
      }
    }
  ]
},

// WEEK 4 - Struggling + Poor
week4_struggling_poor: {
  week: 4,
  problem:
    "After expanding capacity too quickly, you’re now dealing with quality failures and team frustration. Two contractors made serious mistakes with VIP clients. Your core team is demoralised and feels like they’re cleaning up someone else’s mess. Sales is getting complaints. You need to stop the bleeding and restore trust fast.",
  options: [
    {
      id: "w4spo_roadmap",
      label: "Present a 60-day recovery roadmap",
      text:
        "Be transparent about current performance, define the recovery plan, and set weekly milestones for quality, staffing, and process stability.",
      decisionQuality: "excellent",
      impact: { responseTime: -2, satisfaction: 4, resolution: 3, sales: 10, team: 10, tech: 8 },
      feedback: {
        type: "success",
        title: "Leadership through honesty",
        content:
          "You name what’s true without blame: quality dipped, trust is fragile, and the system needs stabilising before scaling. Stakeholders respect the clarity. Your VP agrees to short-term support. The team feels relief because there’s finally a plan—this is no longer an endless emergency."
      }
    },
    {
      id: "w4spo_release",
      label: "Release all contractors immediately",
      text:
        "Cut losses and stabilise using only the core team—even if capacity drops in the short term.",
      decisionQuality: "partial",
      impact: { responseTime: 1, satisfaction: 1, resolution: 1, sales: 2, team: 5, tech: 0 },
      feedback: {
        type: "warning",
        title: "Stability over scale",
        content:
          "Quality improves, but you’re back to a volume cliff. The core team appreciates the move, but the backlog grows and stress returns. You stopped the bleeding, but you haven’t yet created a sustainable system to handle demand."
      }
    },
    {
      id: "w4spo_blame",
      label: "Escalate contractor issues and request better vetting",
      text:
        "Tell leadership the contractors weren’t properly vetted and ask HR/VP for better hiring support.",
      decisionQuality: "poor",
      impact: { responseTime: 2, satisfaction: -3, resolution: -2, sales: -5, team: -8, tech: -3 },
      feedback: {
        type: "danger",
        title: "Deflecting ownership",
        content:
          "Leadership hears ‘not my fault.’ Your team hears the same. The real issue wasn’t just vetting—it was onboarding, standards, and supervision. Trust drops further, and you lose credibility at the exact moment you need others to follow your lead."
      }
    }
  ]
},

// WEEK 4 - Crisis + Partial
week4_crisis_partial: {
  week: 4,
  problem:
    "You’ve stabilised enough to breathe, but you’re still in crisis. VIP prioritisation reduced the loudest escalations, yet Standard customers are slipping and the team is exhausted. One contractor is working out; two are causing rework. Your VP wants evidence this is moving toward sustainability—not just survival. What do you do next?",
  options: [
    {
      id: "w4cp_roadmap",
      label: "Present a 60-day improvement roadmap",
      text:
        "Lay out current reality, the minimum viable operating model, and milestones for staffing, quality, and process stability over the next 60 days.",
      decisionQuality: "excellent",
      impact: { responseTime: -2, satisfaction: 4, resolution: 3, sales: 10, team: 10, tech: 8 },
      feedback: {
        type: "success",
        title: "From triage to strategy",
        content:
          "Your roadmap turns panic into a managed recovery. You name the trade-offs, define what stops now, and what gets built next. Your VP stops hovering and starts supporting. The team sees an end to the chaos—and that reduces burnout more than another pep talk ever could."
      }
    },
    {
      id: "w4cp_keep",
      label: "Keep doing emergency triage",
      text:
        "Don’t rock the boat. Keep prioritising VIP and handling Standard when possible until the pressure decreases.",
      decisionQuality: "poor",
      impact: { responseTime: 0, satisfaction: -1, resolution: 0, sales: 3, team: -8, tech: -3 },
      feedback: {
        type: "danger",
        title: "Stuck in survival mode",
        content:
          "Stability isn’t progress. The team can’t sustain ‘forever triage,’ and Standard customers keep deteriorating. Your VP’s question becomes sharper: ‘What’s the plan?’ Triage buys time—but without strategy, you just spend that time."
      }
    },
    {
      id: "w4cp_escalate",
      label: "Request senior leadership co-lead support",
      text:
        "Ask your VP to assign a director-level partner to help you run recovery and manage stakeholders while you stabilise operations.",
      decisionQuality: "partial",
      impact: { responseTime: -1, satisfaction: 2, resolution: 2, sales: 5, team: 3, tech: 5 },
      feedback: {
        type: "warning",
        title: "Help comes with trade-offs",
        content:
          "The extra leadership support reduces pressure, but it also changes the narrative: you’re no longer seen as fully owning the turnaround. Progress improves, but you lose some autonomy—and you’ll need to rebuild credibility through results."
      }
    }
  ]
},

// WEEK 4 - Crisis + Poor
week4_crisis_poor: {
  week: 4,
  problem:
    "Last week’s overtime push backfired. Another team member quit. Contractors are underperforming. Complaints doubled. Your VP called an emergency meeting: ‘We need immediate improvement or we make leadership changes.’ This is your last chance to reset the situation credibly.",
  options: [
    {
      id: "w4cpo_honest",
      label: "Give a transparent assessment and ask for help",
      text:
        "Own the missteps, explain what you’ve learned, and request specific support (coaching, temporary cover, and a defined recovery window).",
      decisionQuality: "excellent",
      impact: { responseTime: -1, satisfaction: 3, resolution: 2, sales: 8, team: 12, tech: 8 },
      feedback: {
        type: "success",
        title: "Humility opens doors",
        content:
          "Your honesty changes the tone of the meeting. Instead of defending yourself, you show learning and accountability. Leadership gives you support and a clear runway to recover. The team sees you stop performing certainty and start leading reality—trust begins to return."
      }
    },
    {
      id: "w4cpo_promises",
      label: "Promise dramatic improvement immediately",
      text:
        "Commit to an aggressive improvement target in two weeks and push nights/weekends to force results.",
      decisionQuality: "poor",
      impact: { responseTime: 1, satisfaction: -4, resolution: -3, sales: -8, team: -15, tech: -5 },
      feedback: {
        type: "danger",
        title: "Desperation compounds failure",
        content:
          "You can’t deliver the promise. Exhaustion creates errors, and errors create escalations. Your team watches panic masquerade as confidence. Two weeks later, results worsen—and leadership interprets it as poor judgment, not bad luck."
      }
    },
    {
      id: "w4cpo_basic",
      label: "Strip back to basic queue processing",
      text:
        "Stop all complexity. Work first-in-first-out with minimal exceptions to stabilise throughput.",
      decisionQuality: "partial",
      impact: { responseTime: 0, satisfaction: 0, resolution: 0, sales: 2, team: -3, tech: 0 },
      feedback: {
        type: "warning",
        title: "You’ve stopped the bleeding—barely",
        content:
          "Throughput stabilises, but leadership still can’t see a path to improvement. Your VP gives you a short window to present a real recovery plan. You bought time, but you haven’t used it yet."
      }
    }
  ]
},


// =====================
// WEEK 5
// =====================

// WEEK 5 - Excellence + Excellent
week5_excellence_excellent: {
  week: 5,
  problem:
    "You’re scaling from pilot to full volume. A new bottleneck appears: you make every judgment call—tier edge cases, customer exceptions, escalations. When you’re in meetings, decisions stall. Your team has started ‘waiting for Alex’ instead of thinking. How do you distribute leadership without losing quality?",
  options: [
    {
      id: "w5ee_pilot",
      label: "Define decision authority levels + weekly learning cycles",
      text:
        "Clarify what agents decide (routine), what team leads decide (non-routine), and what needs you (strategic). Add weekly edge-case huddles to grow judgment.",
      decisionQuality: "excellent",
      impact: { responseTime: -6, satisfaction: 8, resolution: 7, sales: 12, team: 15, tech: 18 },
      feedback: {
        type: "success",
        title: "You built capacity, not dependency",
        content:
          "Within two weeks, 80% of decisions are made locally. Agents stop asking ‘What should I do?’ and start bringing options and trade-offs. The edge-case huddles become a learning engine: judgment improves, escalations drop, and the model scales without you becoming the bottleneck."
      }
    },
    {
      id: "w5ee_launch",
      label: "Promote two senior agents into Team Lead roles",
      text:
        "Create a formal layer: appoint two leads to handle daily escalations and tier disputes so you can focus on stakeholder management.",
      decisionQuality: "partial",
      impact: { responseTime: -4, satisfaction: 5, resolution: 4, sales: 8, team: 5, tech: 3 },
      feedback: {
        type: "warning",
        title: "Structure helps—but the bottleneck moves",
        content:
          "Your new leads absorb pressure, but agents still escalate instead of developing judgment. You reduced your load, but you didn’t fully distribute authority. It’s progress—just not yet a learning organisation."
      }
    },
    {
      id: "w5ee_immediate",
      label: "Write a comprehensive decision playbook for everything",
      text:
        "Solve the escalation problem with documentation: build a detailed guide so agents can follow rules without asking you.",
      decisionQuality: "poor",
      impact: { responseTime: 5, satisfaction: -8, resolution: -5, sales: -12, team: -15, tech: -12 },
      feedback: {
        type: "danger",
        title: "A manual can’t replace judgment",
        content:
          "Agents cling to the playbook even when context suggests otherwise. When something new appears, work freezes and escalations surge. The team stops thinking—and dependency deepens. You tried to standardise your way out of an adaptive challenge."
      }
    }
  ]
},

// WEEK 5 - Excellence + Partial
week5_excellence_partial: {
  week: 5,
  problem:
    "The tier model is working, but execution is fragile. You’re still over-involved in daily decisions, and recent teething issues have made people cautious. Sales wants speed; your team wants clarity. How do you scale decision-making without creating chaos?",
  options: [
    {
      id: "w5ep_training",
      label: "Set decision authority levels + run weekly edge-case calibration",
      text:
        "Define who decides what, then run short weekly sessions where the team reviews edge cases and refines shared judgment.",
      decisionQuality: "excellent",
      impact: { responseTime: -3, satisfaction: 6, resolution: 5, sales: 8, team: 12, tech: 5 },
      feedback: {
        type: "success",
        title: "Less you, more capability",
        content:
          "You stop being the default answer. Agents learn to make calls, justify them, and learn from misses. Confidence rises, escalations drop, and stakeholders see you stabilising scale through learning—not heroics."
      }
    },
    {
      id: "w5ep_release",
      label: "Create Team Leads to absorb escalations",
      text:
        "Appoint senior agents as escalation owners and let them make day-to-day classification calls while you focus upward.",
      decisionQuality: "partial",
      impact: { responseTime: 0, satisfaction: 4, resolution: 3, sales: 3, team: 8, tech: 2 },
      feedback: {
        type: "warning",
        title: "Better flow, limited learning",
        content:
          "You reduced your bottleneck, but agents still ‘hand off’ thinking. The system is more stable, but the organisation is not yet more adaptive. You’ll need a learning loop to avoid creating a new dependency layer."
      }
    },
    {
      id: "w5ep_push",
      label: "Push accountability hard without changing the system",
      text:
        "Tell agents they must ‘figure it out’ and stop escalating—effective immediately.",
      decisionQuality: "poor",
      impact: { responseTime: 2, satisfaction: -2, resolution: -1, sales: -3, team: -5, tech: 0 },
      feedback: {
        type: "danger",
        title: "Accountability without support breaks trust",
        content:
          "Agents interpret this as abandonment. They either escalate anyway (just louder), or they make unsafe calls to avoid being blamed. Quality becomes inconsistent and fear rises. You demanded independence without building capability."
      }
    }
  ]
},

// WEEK 5 - Struggling/Recovery + Partial
week5_struggling_partial: {
  week: 5,
  problem:
    "Your tier model is still inconsistent and stakeholder patience is thinning. You’re making too many decisions personally, and it’s slowing everything down. How do you increase consistency while helping the team develop judgment?",
  options: [
    {
      id: "w5sp_training",
      label: "Run a 2-day calibration + decision-authority reset",
      text:
        "Train the team on classification and escalation, then define what decisions agents can make immediately and what gets reviewed weekly.",
      decisionQuality: "excellent",
      impact: { responseTime: -3, satisfaction: 6, resolution: 6, sales: 8, team: 12, tech: 5 },
      feedback: {
        type: "success",
        title: "Consistency through shared judgment",
        content:
          "Instead of just telling people the rules, you help them learn how to think inside the model. Escalations drop, decisions speed up, and you stop being the single point of failure."
      }
    },
    {
      id: "w5sp_playbook",
      label: "Write a detailed decision playbook",
      text:
        "Document scenarios so people can ‘follow the guide’ for consistency.",
      decisionQuality: "partial",
      impact: { responseTime: 0, satisfaction: 2, resolution: 2, sales: 3, team: -2, tech: 0 },
      feedback: {
        type: "warning",
        title: "Helpful—until reality changes",
        content:
          "The playbook reduces some variability, but agents stop building judgment. New situations trigger confusion and escalations. You improved standardisation but not adaptability."
      }
    },
    {
      id: "w5sp_push",
      label: "Keep scaling and fix problems as they appear",
      text:
        "Accept inconsistency as learning and push forward without a deliberate capability plan.",
      decisionQuality: "poor",
      impact: { responseTime: 2, satisfaction: -3, resolution: -2, sales: -5, team: -5, tech: -3 },
      feedback: {
        type: "danger",
        title: "Scaling amplifies inconsistency",
        content:
          "As volume increases, small disagreements become daily friction. Customers notice uneven service. Stakeholders conclude the model is ‘unreliable.’ Momentum turns into rework."
      }
    }
  ]
},

// WEEK 5 - Struggling + Poor
week5_struggling_poor: {
  week: 5,
  problem:
    "Quality issues have made stakeholders impatient. Your core team feels blamed, contractors are inconsistent, and your time is spent firefighting escalations. You need to restore confidence with a credible recovery approach.",
  options: [
    {
      id: "w5spo_roadmap",
      label: "Present a 60-day recovery roadmap",
      text:
        "Define the minimum viable service model, quality standards, staffing plan, and weekly milestones to rebuild trust.",
      decisionQuality: "excellent",
      impact: { responseTime: -2, satisfaction: 4, resolution: 3, sales: 10, team: 10, tech: 8 },
      feedback: {
        type: "success",
        title: "A plan that others can follow",
        content:
          "The roadmap stops the spiral. Sales and leadership understand what’s changing and when. Your team stops guessing. Tech can sequence support instead of reacting to emergencies."
      }
    },
    {
      id: "w5spo_release",
      label: "Release contractors and stabilise with the core team",
      text:
        "Remove variability to protect customers and rebuild internal confidence, even if capacity drops temporarily.",
      decisionQuality: "partial",
      impact: { responseTime: 1, satisfaction: 1, resolution: 1, sales: 2, team: 5, tech: 0 },
      feedback: {
        type: "warning",
        title: "Quality rises, capacity falls",
        content:
          "The team feels safer, but backlog pressure returns quickly. You’ve stabilised the floor, but you still need a sustainable operating model to prevent another collapse."
      }
    },
    {
      id: "w5spo_blame",
      label: "Escalate contractor failures and request external fixes",
      text:
        "Push responsibility upward—better hiring, better vetting, better support—without changing how work is run day to day.",
      decisionQuality: "poor",
      impact: { responseTime: 2, satisfaction: -3, resolution: -2, sales: -5, team: -8, tech: -3 },
      feedback: {
        type: "danger",
        title: "Blame doesn’t rebuild trust",
        content:
          "Stakeholders hear deflection, not leadership. Your team hears the same. The underlying operational gaps remain, and you lose the influence you need to secure help."
      }
    }
  ]
},

// WEEK 5 - Crisis + Partial
week5_crisis_partial: {
  week: 5,
  problem:
    "You’re still in crisis conditions: the VP is watching, Sales is impatient, and the team is exhausted. You can’t personally carry every decision and escalation. You need a path from survival to sustainable operations.",
  options: [
    {
      id: "w5cp_roadmap",
      label: "Move from triage to a 60-day recovery roadmap",
      text:
        "Set a clear recovery plan with milestones and define what must stop immediately to protect quality and capacity.",
      decisionQuality: "excellent",
      impact: { responseTime: -2, satisfaction: 4, resolution: 3, sales: 10, team: 10, tech: 8 },
      feedback: {
        type: "success",
        title: "You turned crisis into managed work",
        content:
          "The roadmap gives everyone a shared reference point. Instead of arguing daily about what matters, you’ve defined priorities and boundaries. That alone reduces chaos and burnout."
      }
    },
    {
      id: "w5cp_keep",
      label: "Keep running emergency triage",
      text:
        "Continue prioritising VIP issues and hope the pressure drops soon.",
      decisionQuality: "poor",
      impact: { responseTime: 0, satisfaction: -1, resolution: 0, sales: 3, team: -8, tech: -3 },
      feedback: {
        type: "danger",
        title: "Triage buys time—then spends it",
        content:
          "Without a plan, every week becomes the same crisis with new faces. The team can’t see an end, and leadership stops believing there is one."
      }
    },
    {
      id: "w5cp_escalate",
      label: "Request senior co-lead support",
      text:
        "Bring in a director-level partner to share stakeholder management and help rebuild operational stability.",
      decisionQuality: "partial",
      impact: { responseTime: -1, satisfaction: 2, resolution: 2, sales: 5, team: 3, tech: 5 },
      feedback: {
        type: "warning",
        title: "Support helps—but shifts perception",
        content:
          "You get bandwidth and expertise, but you also signal you can’t carry the turnaround alone. Progress improves, but you’ll need visible wins to rebuild leadership credibility."
      }
    }
  ]
},

// WEEK 5 - Crisis + Poor
week5_crisis_poor: {
  week: 5,
  problem:
    "Leadership is close to making changes. Complaints are high, morale is low, and trust is thin. You need to reset expectations and secure the support required to deliver real improvement.",
  options: [
    {
      id: "w5cpo_honest",
      label: "Transparent assessment and a specific ask",
      text:
        "Own what happened, describe what you’re changing, and ask for targeted support (resources + a defined runway).",
      decisionQuality: "excellent",
      impact: { responseTime: -1, satisfaction: 3, resolution: 2, sales: 8, team: 12, tech: 8 },
      feedback: {
        type: "success",
        title: "Credibility through honesty",
        content:
          "Your clarity and accountability create a second chance. Leadership supports a recovery window, your team regains hope, and stakeholders stop escalating every issue as if it’s a surprise."
      }
    },
    {
      id: "w5cpo_promises",
      label: "Promise rapid dramatic improvement",
      text:
        "Commit to aggressive targets and push the team harder to hit them.",
      decisionQuality: "poor",
      impact: { responseTime: 1, satisfaction: -4, resolution: -3, sales: -8, team: -15, tech: -5 },
      feedback: {
        type: "danger",
        title: "Pressure breaks what’s left",
        content:
          "The team can’t sustainably give more. Quality dips, people disengage, and leadership concludes the strategy is unrealistic."
      }
    },
    {
      id: "w5cpo_basic",
      label: "Drop complexity and run FIFO only",
      text:
        "Simplify operations to the bare minimum to keep tickets moving.",
      decisionQuality: "partial",
      impact: { responseTime: 0, satisfaction: 0, resolution: 0, sales: 2, team: -3, tech: 0 },
      feedback: {
        type: "warning",
        title: "Stability without progress",
        content:
          "You reduced chaos, but leadership still can’t see a path to recovery. You’ve bought time—now you must use it to build a plan."
      }
    }
  ]
},


// =====================
// WEEK 6
// =====================

// WEEK 6 - Excellence + Excellent
week6_excellence_excellent: {
  week: 6,
  problem:
    "Customer expectations have shifted: they now expect live chat support, not just email/phone. Sales is already selling it. But adding chat could overwhelm your team, and Tech says they can’t maintain two parallel support systems long-term. How do you adapt without collapsing your current gains?",
  options: [
    {
      id: "w6ee_pilot",
      label: "Pilot chat in VIP tier only, learn, then expand",
      text:
        "Start with enterprise/VIP customers where volume is manageable and stakes are high. Use what you learn to design staffing ratios and workflows before scaling.",
      decisionQuality: "excellent",
      impact: { responseTime: -6, satisfaction: 8, resolution: 7, sales: 12, team: 15, tech: 18 },
      feedback: {
        type: "success",
        title: "Iterative adaptation to new reality",
        content:
          "The VIP pilot reveals chat requires different coverage and concurrency limits (agents can’t juggle unlimited chats). You redesign workflows, define ‘chat-worthy’ issues, and protect the rest of the system. Sales still gets a marketable win, and your team doesn’t get crushed."
      }
    },
    {
      id: "w6ee_launch",
      label: "Outsource chat to a specialised vendor",
      text:
        "Launch quickly by contracting a vendor, while your team protects core email/phone performance.",
      decisionQuality: "partial",
      impact: { responseTime: -4, satisfaction: 5, resolution: 4, sales: 8, team: 5, tech: 3 },
      feedback: {
        type: "warning",
        title: "Speed over integration",
        content:
          "Chat launches fast, but responses feel generic and don’t align with your tier model. VIP customers complain about context loss, and you now manage two service cultures. You gained speed, but you created operational complexity."
      }
    },
    {
      id: "w6ee_immediate",
      label: "Deploy chat across all tiers immediately",
      text:
        "Train everyone this week and launch broadly to meet market expectations fast.",
      decisionQuality: "poor",
      impact: { responseTime: 5, satisfaction: -8, resolution: -5, sales: -12, team: -15, tech: -12 },
      feedback: {
        type: "danger",
        title: "Overextension without learning",
        content:
          "Agents try to handle chat plus email/phone and quality collapses across all channels. Customers expect near-instant chat responses and get delays. Burnout spikes, mistakes rise, and the gains from your tier model evaporate under overload."
      }
    }
  ]
},

// WEEK 6 - Excellence + Partial
week6_excellence_partial: {
  week: 6,
  problem:
    "You’ve improved service levels, but the system still feels fragile. Now chat is being sold as a promise, and you don’t have the capacity or model to absorb it safely. What’s your move?",
  options: [
    {
      id: "w6ep_training",
      label: "Pilot chat in VIP tier with clear constraints",
      text:
        "Run a VIP-only pilot with explicit coverage rules, concurrency limits, and defined handoffs back to email/phone.",
      decisionQuality: "excellent",
      impact: { responseTime: -3, satisfaction: 6, resolution: 5, sales: 8, team: 12, tech: 5 },
      feedback: {
        type: "success",
        title: "Constrained experimentation",
        content:
          "You protect the team by setting boundaries: what chat is for, what it isn’t, and how escalation works. You get real data without risking a full-system collapse—and you can now negotiate with Sales using evidence instead of fear."
      }
    },
    {
      id: "w6ep_release",
      label: "Outsource chat temporarily while you stabilise",
      text:
        "Use a vendor as a bridge solution while you stabilise internal processes and define a long-term support model.",
      decisionQuality: "partial",
      impact: { responseTime: 0, satisfaction: 4, resolution: 3, sales: 3, team: 8, tech: 2 },
      feedback: {
        type: "warning",
        title: "A bridge—if you treat it like one",
        content:
          "The vendor reduces immediate pressure, but you must actively manage quality and integration, or you’ll end up with parallel systems and inconsistent customer experiences."
      }
    },
    {
      id: "w6ep_push",
      label: "Add chat on top of everything else",
      text:
        "Ask the team to ‘make it work’—chat, email, and phone—without changing staffing or workflows.",
      decisionQuality: "poor",
      impact: { responseTime: 2, satisfaction: -2, resolution: -1, sales: -3, team: -5, tech: 0 },
      feedback: {
        type: "danger",
        title: "More channels, same capacity",
        content:
          "Chat doesn’t just add work—it changes work. Without redesign, the team is interrupted constantly and can’t complete complex cases. Response times rise everywhere, and frustration turns into attrition risk."
      }
    }
  ]
},

// WEEK 6 - Struggling/Recovery + Partial
week6_struggling_partial: {
  week: 6,
  problem:
    "Implementation is still uneven, and now live chat is being sold as ‘the new standard.’ You need to respond to market expectations without overwhelming an already stressed operation.",
  options: [
    {
      id: "w6sp_training",
      label: "Pilot chat narrowly + retrain workflows",
      text:
        "Launch a limited pilot (VIP or a small segment) and use the pilot to retrain workflows, staffing ratios, and escalation patterns.",
      decisionQuality: "excellent",
      impact: { responseTime: -3, satisfaction: 6, resolution: 6, sales: 8, team: 12, tech: 5 },
      feedback: {
        type: "success",
        title: "Learning before scaling",
        content:
          "Your limited pilot reveals what chat does to attention, workload, and throughput. You adjust staffing and guardrails before it hits full volume, preventing a predictable overload."
      }
    },
    {
      id: "w6sp_playbook",
      label: "Write chat rules and launch more broadly",
      text:
        "Create a set of rules for chat handling and roll it out quickly to meet expectations.",
      decisionQuality: "partial",
      impact: { responseTime: 0, satisfaction: 2, resolution: 2, sales: 3, team: -2, tech: 0 },
      feedback: {
        type: "warning",
        title: "Rules help, but reality will outrun them",
        content:
          "Chat creates live edge cases every hour. A rules-first approach reduces some confusion, but without a learning loop, the team becomes brittle under real-time pressure."
      }
    },
    {
      id: "w6sp_push",
      label: "Deploy chat immediately and adjust later",
      text:
        "Accept the mess, launch now, and patch gaps as complaints come in.",
      decisionQuality: "poor",
      impact: { responseTime: 2, satisfaction: -3, resolution: -2, sales: -5, team: -5, tech: -3 },
      feedback: {
        type: "danger",
        title: "You scaled uncertainty",
        content:
          "Chat issues show up instantly and loudly. Without guardrails, interruptions explode and quality drops across channels. Stakeholders interpret it as failure, not learning."
      }
    }
  ]
},

// WEEK 6 - Struggling + Poor
week6_struggling_poor: {
  week: 6,
  problem:
    "You’re still recovering from quality issues, and leadership is anxious. Now Sales is selling live chat. If you say ‘no,’ they escalate. If you say ‘yes,’ you risk another collapse. What do you do?",
  options: [
    {
      id: "w6spo_roadmap",
      label: "Add chat to the 60-day roadmap with a controlled pilot",
      text:
        "Position chat as a phased capability: pilot in VIP, define staffing and workflows, then expand—tied to milestones and resourcing.",
      decisionQuality: "excellent",
      impact: { responseTime: -2, satisfaction: 4, resolution: 3, sales: 10, team: 10, tech: 8 },
      feedback: {
        type: "success",
        title: "You negotiated with structure",
        content:
          "Instead of resisting or caving, you give stakeholders a credible ‘yes, and’—yes to chat, and only in a way that protects customers and staff. The roadmap reduces escalation because it gives people something to hold onto."
      }
    },
    {
      id: "w6spo_release",
      label: "Outsource chat to stabilise internal quality",
      text:
        "Use a vendor to satisfy Sales while your team focuses on core service stabilisation.",
      decisionQuality: "partial",
      impact: { responseTime: 1, satisfaction: 1, resolution: 1, sales: 2, team: 5, tech: 0 },
      feedback: {
        type: "warning",
        title: "A tactical relief valve",
        content:
          "You reduce immediate overload, but you risk creating a ‘two-class’ experience if the vendor’s quality doesn’t match VIP expectations. It works only if you actively manage standards and integration."
      }
    },
    {
      id: "w6spo_blame",
      label: "Tell Sales to stop selling chat until you’re ready",
      text:
        "Refuse the request outright and push responsibility back to Sales for overpromising again.",
      decisionQuality: "poor",
      impact: { responseTime: 2, satisfaction: -3, resolution: -2, sales: -5, team: -8, tech: -3 },
      feedback: {
        type: "danger",
        title: "Conflict without an alternative",
        content:
          "Sales escalates immediately because you gave them a ‘no’ without a plan. You may be right, but you’ve lost the chance to lead them toward a workable commitment."
      }
    }
  ]
},

// WEEK 6 - Crisis + Partial
week6_crisis_partial: {
  week: 6,
  problem:
    "You’re still in crisis recovery, and everyone is sensitive to another failure. Now chat is being demanded. You need to respond to market pressure while protecting a fragile operation.",
  options: [
    {
      id: "w6cp_roadmap",
      label: "Approve a VIP-only chat pilot as part of recovery",
      text:
        "Commit to a narrowly scoped pilot with strict guardrails and clear success criteria, tied to the recovery plan.",
      decisionQuality: "excellent",
      impact: { responseTime: -2, satisfaction: 4, resolution: 3, sales: 10, team: 10, tech: 8 },
      feedback: {
        type: "success",
        title: "Controlled change inside crisis",
        content:
          "You avoid the trap of ‘do nothing’ or ‘do everything.’ The pilot gives Sales a credible story, gives Tech a bounded scope, and gives your team a chance to learn without being overwhelmed."
      }
    },
    {
      id: "w6cp_keep",
      label: "Avoid chat and keep triage going",
      text:
        "Stick to VIP triage and postpone chat entirely until things feel calmer.",
      decisionQuality: "poor",
      impact: { responseTime: 0, satisfaction: -1, resolution: 0, sales: 3, team: -8, tech: -3 },
      feedback: {
        type: "danger",
        title: "Stability becomes avoidance",
        content:
          "Stakeholders interpret delay as inability to adapt. Sales continues selling anyway, which sets you up for an even more chaotic launch later—without your input."
      }
    },
    {
      id: "w6cp_escalate",
      label: "Ask leadership to pause chat commitments company-wide",
      text:
        "Request executive alignment: Sales stops selling chat until you complete a pilot and define an operational model.",
      decisionQuality: "partial",
      impact: { responseTime: -1, satisfaction: 2, resolution: 2, sales: 5, team: 3, tech: 5 },
      feedback: {
        type: "warning",
        title: "A strong move—if you can hold it",
        content:
          "Leadership may agree, but only briefly. This buys time, not a solution. You still need a pilot and an operating model fast, or the pause will collapse under pressure."
      }
    }
  ]
},

// WEEK 6 - Crisis + Poor
week6_crisis_poor: {
  week: 6,
  problem:
    "You’re on thin ice. Another visible failure could trigger leadership changes. Now chat is being demanded as a ‘quick win.’ Whatever you choose will be watched closely.",
  options: [
    {
      id: "w6cpo_honest",
      label: "Set a constrained ‘yes’ with guardrails",
      text:
        "Acknowledge reality: approve a narrow pilot with explicit staffing, quality checks, and clear stop conditions if metrics worsen.",
      decisionQuality: "excellent",
      impact: { responseTime: -1, satisfaction: 3, resolution: 2, sales: 8, team: 12, tech: 8 },
      feedback: {
        type: "success",
        title: "You regulated distress instead of absorbing it",
        content:
          "You don’t overpromise, and you don’t refuse. The guardrails protect the team and show leadership you’re capable of disciplined change—even under scrutiny."
      }
    },
    {
      id: "w6cpo_promises",
      label: "Promise a full chat launch immediately",
      text:
        "Commit to broad launch fast to prove momentum and regain credibility.",
      decisionQuality: "poor",
      impact: { responseTime: 1, satisfaction: -4, resolution: -3, sales: -8, team: -15, tech: -5 },
      feedback: {
        type: "danger",
        title: "A fast promise becomes a public failure",
        content:
          "Chat exposes your instability in real time. Response delays and poor handoffs become highly visible, quickly. Stakeholders conclude you can’t judge risk under pressure."
      }
    },
    {
      id: "w6cpo_basic",
      label: "Refuse chat and focus only on backlog basics",
      text:
        "Say no to chat and strip back to minimum operations to survive.",
      decisionQuality: "partial",
      impact: { responseTime: 0, satisfaction: 0, resolution: 0, sales: 2, team: -3, tech: 0 },
      feedback: {
        type: "warning",
        title: "Survival is not adaptation",
        content:
          "You may stabilise throughput, but you look unresponsive to market reality. Leadership grants a short extension—conditional on you presenting a credible plan to meet changing expectations."
      }
    }
  ]
},


// =====================
// WEEK 7
// =====================

// WEEK 7 - Excellence + Excellent
week7_excellence_excellent: {
  week: 7,
  problem:
    "Leadership announces budget cuts—15% across all departments due to market conditions. Your improved operating model costs ~8% more than the old one (tiered staffing, training, better tools). The CFO asks: ‘Can we just go back to the old way and cut costs?’ Everyone is watching how you respond under pressure.",
  options: [
    {
      id: "w7ee_revertSingle",
      label: "Agree to revert to a single-tier process",
      text:
        "Cut costs fast by simplifying back to one service level and reducing training/tool investment.",
      decisionQuality: "poor",
      impact: { responseTime: 12, satisfaction: -15, resolution: -10, sales: -25, team: -15, tech: -8 },
      feedback: {
        type: "danger",
        title: "Reverting under pressure",
        content:
          "Within weeks, your gains evaporate: response times climb, quality slips, and churn risk rises. Your team’s morale collapses because the organisation signals ‘improvement doesn’t matter when it’s hard.’ You didn’t just cut costs—you cut credibility."
      }
    },
    {
      id: "w7ee_dataDrive",
      label: "Present a data-driven business case for the investment",
      text:
        "Show ROI: retention protected, escalations reduced, faster resolution for high-value customers, and the cost of reverting (lost renewals, churn, brand damage).",
      decisionQuality: "excellent",
      impact: { responseTime: 0, satisfaction: 4, resolution: 3, sales: 10, team: 15, tech: 8 },
      feedback: {
        type: "success",
        title: "Leading upward with evidence",
        content:
          "You translate operations into business outcomes: renewals protected, churn reduced, and high-value customers receiving differentiated service. You acknowledge the budget reality while showing the cost of reverting is higher than the cost of sustaining. The CFO approves continued funding—conditional on ongoing performance. Your team sees you protect what works, not what’s comfortable."
      }
    },
    {
      id: "w7ee_aiAUtomato",
      label: "Propose targeted automation in Standard tier",
      text:
        "Reduce operating cost by automating high-volume Standard queries while protecting VIP quality and preserving the tier model.",
      decisionQuality: "partial",
      impact: { responseTime: -2, satisfaction: 3, resolution: 2, sales: 5, team: 5, tech: 6 },
      feedback: {
        type: "success",
        title: "Pragmatic adaptation",
        content:
          "You meet the budget moment with innovation: reduce costs without destroying the operating model. It’s a compromise—automation must be governed carefully to avoid degrading customer experience—but you preserve the core of the change while responding to financial pressure."
      }
    }
  ]
},

// WEEK 7 - Excellence + Partial
week7_excellence_partial: {
  week: 7,
  problem:
    "Leadership announces budget cuts—15% across all departments. Your improved model costs ~8% more than the old one, and you’ve also had some overages from early-stage teething issues. The CFO asks: ‘Should we revert to the old way to cut costs?’ Your credibility is good—but not unshakeable. How do you respond?",
  options: [
    {
      id: "w7ep_revertSingle",
      label: "Agree to revert to a single-tier process",
      text:
        "Simplify back to one service level to reduce spend quickly and ‘protect headcount.’",
      decisionQuality: "poor",
      impact: { responseTime: 12, satisfaction: -15, resolution: -10, sales: -25, team: -15, tech: -8 },
      feedback: {
        type: "danger",
        title: "Short-term savings, long-term damage",
        content:
          "Reverting feels safe, but it recreates the original mismatch that caused the crisis. Costs return later as churn, escalations, and burnout. You taught the organisation that change is optional—only until it’s inconvenient."
      }
    },
    {
      id: "w7ep_dataDrive",
      label: "Make the ROI case—and acknowledge the teething issues",
      text:
        "Present performance data and financial impact, and also show exactly how you’ll bring costs back in line without sacrificing outcomes.",
      decisionQuality: "excellent",
      impact: { responseTime: 0, satisfaction: 2, resolution: 3, sales: 8, team: 12, tech: 7 },
      feedback: {
        type: "success",
        title: "Credibility through clarity",
        content:
          "You don’t pretend everything was perfect. You show what improved, what cost more, and what you’re doing to tighten execution. The CFO approves continued funding, with clear checkpoints. Your team trusts you to manage upward pressure while they keep the system running."
      }
    },
    {
      id: "w7ep_aiAUtomato",
      label: "Use automation to offset cost increases",
      text:
        "Automate predictable Standard work to reduce costs while protecting VIP quality and retaining the tier structure.",
      decisionQuality: "partial",
      impact: { responseTime: -2, satisfaction: 3, resolution: 2, sales: 5, team: 5, tech: 6 },
      feedback: {
        type: "success",
        title: "A workable compromise",
        content:
          "You preserve the core improvement while responding to financial constraints. The risk is governance: if automation becomes a dumping ground, satisfaction will fall. Done well, it protects the model and stabilises cost."
      }
    }
  ]
},

// WEEK 7 - Struggling/Recovery + Partial
week7_struggling_partial: {
  week: 7,
  problem:
    "You’ve made progress, but the model still isn’t fully stable—and now budget cuts hit. Leadership wants savings fast, Sales wants promises kept, and your team is tired of ‘new changes’ every week. The CFO asks if reverting is the simplest option. How do you protect improvement while acknowledging reality?",
  options: [
    {
      id: "w7sp_training",
      label: "Stabilise execution and show a cost-control plan",
      text:
        "Recalibrate the team on tier judgment and tighten workflow so you can show predictable outcomes—and pair it with a concrete plan to reduce overages.",
      decisionQuality: "excellent",
      impact: { responseTime: -3, satisfaction: 6, resolution: 6, sales: 8, team: 12, tech: 5 },
      feedback: {
        type: "success",
        title: "Confidence through stability",
        content:
          "You don’t argue abstractly—you improve reliability. When you show leadership predictable service levels plus a plan to control cost, the ‘revert’ option loses its appeal. The team feels the ground steady under their feet for the first time in weeks."
      }
    },
    {
      id: "w7sp_playbook",
      label: "Codify rules and push compliance",
      text:
        "Write a stricter manual and enforce adherence to reduce variation and cost.",
      decisionQuality: "partial",
      impact: { responseTime: 0, satisfaction: 2, resolution: 2, sales: 3, team: -2, tech: 0 },
      feedback: {
        type: "warning",
        title: "Control improves consistency—but can reduce adaptability",
        content:
          "You reduce some chaos, but agents become less flexible and more risk-averse. It helps in the short term, but it won’t be enough on its own to defend the model under budget scrutiny."
      }
    },
    {
      id: "w7sp_push",
      label: "Keep pushing forward and hope results defend you",
      text:
        "Continue as-is and assume leadership will see improvement over time.",
      decisionQuality: "poor",
      impact: { responseTime: 2, satisfaction: -3, resolution: -2, sales: -5, team: -5, tech: -3 },
      feedback: {
        type: "danger",
        title: "Hope is not a strategy",
        content:
          "Under budget cuts, leadership won’t ‘wait and see.’ Without a clear story and stabilised execution, the revert option looks like the only certainty. You lose the narrative because you didn’t provide one."
      }
    }
  ]
},

// WEEK 7 - Struggling + Poor
week7_struggling_poor: {
  week: 7,
  problem:
    "You’re still dealing with quality issues and low trust, and now budget cuts land. Leadership is looking for ‘clean’ cost reductions, and your program is an obvious target. If you can’t frame a credible recovery plus cost plan, reverting becomes likely.",
  options: [
    {
      id: "w7spo_roadmap",
      label: "Present a recovery + cost-control roadmap",
      text:
        "Show the path to stable quality and the specific levers to reduce cost without undoing the operating model.",
      decisionQuality: "excellent",
      impact: { responseTime: -2, satisfaction: 4, resolution: 3, sales: 10, team: 10, tech: 8 },
      feedback: {
        type: "success",
        title: "A credible ‘stay the course’ case",
        content:
          "You connect improvement to financial reality: what must be preserved, what can be trimmed, and what milestones will prove it. Leadership doesn’t love risk right now—but they can support a plan they can measure."
      }
    },
    {
      id: "w7spo_release",
      label: "Cut capacity spend quickly and stabilise quality",
      text:
        "Reduce variable cost fast (e.g., contractors), accept a short-term slowdown, and protect quality while you rebuild credibility.",
      decisionQuality: "partial",
      impact: { responseTime: 1, satisfaction: 1, resolution: 1, sales: 2, team: 5, tech: 0 },
      feedback: {
        type: "warning",
        title: "A stabilising cut—if paired with a plan",
        content:
          "This reduces risk, but leadership will still ask: ‘What replaces that capacity?’ Without an operating plan, you’ll be back to backlog and escalations quickly."
      }
    },
    {
      id: "w7spo_blame",
      label: "Argue the cuts are unfair and push back hard",
      text:
        "Challenge the CFO’s framing and insist the budget pressure is ‘short-sighted,’ without offering alternatives.",
      decisionQuality: "poor",
      impact: { responseTime: 2, satisfaction: -3, resolution: -2, sales: -5, team: -8, tech: -3 },
      feedback: {
        type: "danger",
        title: "Conflict without a solution",
        content:
          "You may be right, but you’re not persuasive. Leadership hears defensiveness, not strategy. Your program becomes the easiest thing to cut because it’s framed as ‘a problem’ rather than ‘an investment with options.’"
      }
    }
  ]
},

// WEEK 7 - Crisis + Partial
week7_crisis_partial: {
  week: 7,
  problem:
    "You’re still in crisis recovery when budget cuts hit. The CFO wants certainty, Sales wants commitments, and your team is exhausted. Reverting is being discussed as the ‘cleanest’ cost cut. How do you respond in a way that preserves the possibility of improvement?",
  options: [
    {
      id: "w7cp_roadmap",
      label: "Make a hard-nosed recovery + ROI case",
      text:
        "Present a measured plan: minimum viable service model, cost controls, and what reverting would cost in churn, escalations, and burnout.",
      decisionQuality: "excellent",
      impact: { responseTime: -2, satisfaction: 4, resolution: 3, sales: 10, team: 10, tech: 8 },
      feedback: {
        type: "success",
        title: "You earned time with a plan",
        content:
          "You don’t ask for faith—you offer milestones. Leadership grants a defined runway and checkpoints. It’s not full support, but it prevents a panic revert and keeps recovery possible."
      }
    },
    {
      id: "w7cp_keep",
      label: "Keep triage going and avoid the budget conversation",
      text:
        "Focus on day-to-day survival and hope the budget decision goes away.",
      decisionQuality: "poor",
      impact: { responseTime: 0, satisfaction: -1, resolution: 0, sales: 3, team: -8, tech: -3 },
      feedback: {
        type: "danger",
        title: "Silence becomes the decision",
        content:
          "If you don’t tell a story, someone else will. Leadership defaults to the simplest cost cut: revert. Avoiding the conversation guarantees you lose it."
      }
    },
    {
      id: "w7cp_escalate",
      label: "Request executive sponsorship to protect the model",
      text:
        "Ask your VP to sponsor the model explicitly and negotiate budget trade-offs at the leadership level.",
      decisionQuality: "partial",
      impact: { responseTime: -1, satisfaction: 2, resolution: 2, sales: 5, team: 3, tech: 5 },
      feedback: {
        type: "warning",
        title: "Protection can be temporary",
        content:
          "Sponsorship buys breathing room, but it’s fragile without results. You still need a credible operating plan quickly—or the sponsorship will fade under financial pressure."
      }
    }
  ]
},

// WEEK 7 - Crisis + Poor
week7_crisis_poor: {
  week: 7,
  problem:
    "You’re at rock bottom: trust is low, performance is fragile, and budget cuts are forcing hard choices. The CFO asks directly if reverting to the old model is the safest option. Your answer will define whether you remain in role.",
  options: [
    {
      id: "w7cpo_honest",
      label: "Own reality and propose a constrained path forward",
      text:
        "Acknowledge failures, present the smallest viable version of the improved model, and offer measurable checkpoints to earn continued funding.",
      decisionQuality: "excellent",
      impact: { responseTime: -1, satisfaction: 3, resolution: 2, sales: 8, team: 12, tech: 8 },
      feedback: {
        type: "success",
        title: "A credible reset under scrutiny",
        content:
          "You don’t overclaim. You show what must be preserved, what you’ll cut, and how leadership will know it’s working. That realism buys you a defined runway—and a chance to recover credibility through delivery."
      }
    },
    {
      id: "w7cpo_promises",
      label: "Promise results you can’t guarantee",
      text:
        "Commit to dramatic improvement fast to avoid cuts and preserve your role.",
      decisionQuality: "poor",
      impact: { responseTime: 1, satisfaction: -4, resolution: -3, sales: -8, team: -15, tech: -5 },
      feedback: {
        type: "danger",
        title: "Overpromising ends the story",
        content:
          "In a budget cycle, leaders punish risk. An unrealistic promise reads as poor judgment. When results don’t materialise instantly, leadership concludes you can’t lead under pressure."
      }
    },
    {
      id: "w7cpo_basic",
      label: "Accept the revert and run the old model",
      text:
        "Choose certainty: revert to the old process and focus on moving tickets as cheaply as possible.",
      decisionQuality: "partial",
      impact: { responseTime: 0, satisfaction: 0, resolution: 0, sales: 2, team: -3, tech: 0 },
      feedback: {
        type: "warning",
        title: "You survived—but you didn’t lead",
        content:
          "Reverting reduces short-term complexity, but it reintroduces the root mismatch that created the crisis. Leadership may tolerate it briefly, but the same problems will return—and you’ll be asked why you didn’t build a better path when you had the chance."
      }
    }
  ]
}
        };
//== Update story path ==//
function updateStoryPath() {
    // Recalculate story path based on last 2 decisions
    if (state.decisionPath.length === 0) {
        state.storyPath = 'normal';
        return;
    }
    
    if (state.decisionPath.length === 1) {
        // Week 2: based on week 1 decision
        const w1Quality = state.decisionPath[0];
        if (w1Quality === 'excellent') {
            state.storyPath = 'excellence';
        } else if (w1Quality === 'poor') {
            state.storyPath = 'crisis';
        } else {
            state.storyPath = 'struggling';
        }
        return;
    }
    
    // Week 3+: check last 2 decisions
    const lastTwo = state.decisionPath.slice(-2);
    const hasExcellent = lastTwo.includes('excellent');
    const bothPoorOrPartial = lastTwo.every(d => d === 'poor' || d === 'partial');
    const hasPoor = lastTwo.includes('poor');
    
    if (hasExcellent) {
        state.storyPath = 'excellence';
    } else if (bothPoorOrPartial && hasPoor) {
        state.storyPath = 'crisis';
    } else if (bothPoorOrPartial) {
        state.storyPath = 'struggling';
    } else {
        state.storyPath = 'struggling';
    }
}
        // ===== PATH DETERMINATION LOGIC =====
        function determineNextScenario() {
            const week = state.currentWeek;
            updateStoryPath();
            
            // Week 1 is universal
            if (week === 1) {
                return scenarios.week1;
            }

            // Week 2 - Branch based on Week 1 decision
            if (week === 2) {
                const w1Quality = state.decisionPath[0];
                if (w1Quality === 'excellent') {
                    state.storyPath = 'excellence';
                    return scenarios.week2_excellence;
                } else if (w1Quality === 'poor') {
                    state.storyPath = 'crisis';
                    return scenarios.week2_crisis;
                } else {
                    state.storyPath = 'struggling';
                    return scenarios.week2_struggling;
                }
            }

            // Week 3 - Branch based on Week 2 decision AND path
            if (week === 3) {
                const w2Quality = state.decisionPath[1];
                const pathKey = `week3_${state.storyPath}_${w2Quality}`;
                
                // Map to actual scenario keys
                const scenarioMap = {
                    'week3_excellence_excellent': 'week3_excellence_excellent',
                    'week3_excellence_partial': 'week3_excellence_partial',
                    'week3_excellence_poor': 'week3_excellence_partial', // Falls back to partial scenario
                    'week3_struggling_excellent': 'week3_struggling_partial', // Upgrade to recovery
                    'week3_struggling_partial': 'week3_struggling_partial',
                    'week3_struggling_poor': 'week3_struggling_poor',
                    'week3_crisis_excellent': 'week3_crisis_partial', // Starting recovery
                    'week3_crisis_partial': 'week3_crisis_partial',
                    'week3_crisis_poor': 'week3_crisis_poor'
                };

                const scenarioKey = scenarioMap[pathKey] || 'week3_struggling_partial';
                return scenarios[scenarioKey];
            }

            // Week 4 - Branch based on Week 2 decision AND path
            if (week === 4) {
                const w3Quality = state.decisionPath[2];
                const pathKey = `week4_${state.storyPath}_${w3Quality}`;
                
                // Map to actual scenario keys
                const scenarioMap = {
                    'week4_excellence_excellent': 'week4_excellence_excellent',
                    'week4_excellence_partial': 'week4_excellence_partial',
                    'week4_excellence_poor': 'week4_excellence_partial', // Falls back to partial scenario
                    'week4_struggling_excellent': 'week4_struggling_partial', // Upgrade to recovery
                    'week4_struggling_partial': 'week4_struggling_partial',
                    'week4_struggling_poor': 'week4_struggling_poor',
                    'week4_crisis_excellent': 'week4_crisis_partial', // Starting recovery
                    'week4_crisis_partial': 'week4_crisis_partial',
                    'week4_crisis_poor': 'week4_crisis_poor'
                };

                const scenarioKey = scenarioMap[pathKey] || 'week4_struggling_partial';
                return scenarios[scenarioKey];
            }

        // Week 5 - Branch based on Week 2 decision AND path
            if (week === 5) {
                const w4Quality = state.decisionPath[3];
                const pathKey = `week4_${state.storyPath}_${w4Quality}`;
                
                // Map to actual scenario keys
                const scenarioMap = {
                    'week5_excellence_excellent': 'week5_excellence_excellent',
                    'week5_excellence_partial': 'week5_excellence_partial',
                    'week5_excellence_poor': 'week5_excellence_partial', // Falls back to partial scenario
                    'week5_struggling_excellent': 'week5_struggling_partial', // Upgrade to recovery
                    'week5_struggling_partial': 'week5_struggling_partial',
                    'week5_struggling_poor': 'week5_struggling_poor',
                    'week5_crisis_excellent': 'week5_crisis_partial', // Starting recovery
                    'week5_crisis_partial': 'week5_crisis_partial',
                    'week5_crisis_poor': 'week5_crisis_poor'
                };

                const scenarioKey = scenarioMap[pathKey] || 'week5_struggling_partial';
                return scenarios[scenarioKey];
            }

        // Week 6 - Branch based on Week 2 decision AND path
            if (week === 6) {
                const w5Quality = state.decisionPath[4];
                const pathKey = `week4_${state.storyPath}_${w5Quality}`;
                
                // Map to actual scenario keys
                const scenarioMap = {
                    'week6_excellence_excellent': 'week6_excellence_excellent',
                    'week6_excellence_partial': 'week6_excellence_partial',
                    'week6_excellence_poor': 'week6_excellence_partial', // Falls back to partial scenario
                    'week6_struggling_excellent': 'week6_struggling_partial', // Upgrade to recovery
                    'week6_struggling_partial': 'week6_struggling_partial',
                    'week6_struggling_poor': 'week6_struggling_poor',
                    'week6_crisis_excellent': 'week6_crisis_partial', // Starting recovery
                    'week6_crisis_partial': 'week6_crisis_partial',
                    'week6_crisis_poor': 'week6_crisis_poor'
                };

                const scenarioKey = scenarioMap[pathKey] || 'week6_struggling_partial';
                return scenarios[scenarioKey];
            }


        // Week 7 - Branch based on Week 2 decision AND path
            if (week === 7) {
                const w6Quality = state.decisionPath[5];
                const pathKey = `week4_${state.storyPath}_${w6Quality}`;
                
                // Map to actual scenario keys
                const scenarioMap = {
                    'week7_excellence_excellent': 'week7_excellence_excellent',
                    'week7_excellence_partial': 'week7_excellence_partial',
                    'week7_excellence_poor': 'week7_excellence_partial', // Falls back to partial scenario
                    'week7_struggling_excellent': 'week7_struggling_partial', // Upgrade to recovery
                    'week7_struggling_partial': 'week7_struggling_partial',
                    'week7_struggling_poor': 'week7_struggling_poor',
                    'week7_crisis_excellent': 'week7_crisis_partial', // Starting recovery
                    'week7_crisis_partial': 'week7_crisis_partial',
                    'week7_crisis_poor': 'week7_crisis_poor'
                };

                const scenarioKey = scenarioMap[pathKey] || 'week7_struggling_partial';
                return scenarios[scenarioKey];
            }
            return null;
        }

        function updatePathIndicator() {
            const indicator = document.getElementById('pathIndicator');
            const pathLabels = {
                'normal': 'Normal trajectory',
                'excellence': '🌟 Excellence path',
                'struggling': '⚡ Struggling path',
                'crisis': '🚨 Crisis path',
                'recovery': '📈 Recovery path'
            };

            indicator.textContent = pathLabels[state.storyPath] || pathLabels['normal'];
            indicator.className = 'path-indicator ' + state.storyPath;
        }

        function getBranchingNoticeHTML() {
            // if (state.currentWeek === 1) {
            //     return '<div class="branching-notice info">ℹ️ <strong>Week 1:</strong> Your choice here determines which Week 2 scenario you\'ll face. Choose wisely!</div>';
            // }
            const notices = {
                'excellence': '<div class="branching-notice success"><strong>Excellence Path:</strong> Your strategic diagnosis has built strong stakeholder trust. You have access to high-leverage options.</div>',
                'struggling': '<div class="branching-notice warning"><strong>Struggling Path:</strong> Your earlier reactive decision created challenges. Focus on rebuilding trust through thoughtful choices.</div>',
                'crisis': '<div class="branching-notice"><strong>Crisis Path:</strong> Trust is critically low. You need to stabilize before you can optimize. The availabe choices of actions reflect this.</div>'
            };

            return notices[state.storyPath] || '';
        }

        // ===== CHART INITIALIZATION =====
        let metricsChart;

        function initChart() {
            const ctx = document.getElementById('metricsChart').getContext('2d');
            metricsChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Baseline'],
                    datasets: [
                        {
                            label: 'Response Time (hrs)',
                            data: [33],
                            borderColor: '#ef4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.4,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Satisfaction (%)',
                            data: [83],
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            tension: 0.4,
                            yAxisID: 'y1'
                        },
                        {
                            label: 'Resolution (%)',
                            data: [67],
                            borderColor: '#2563eb',
                            backgroundColor: 'rgba(37, 99, 235, 0.1)',
                            tension: 0.4,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Response Time (hours)'
                            },
                            min: 0,
                            max: 60
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Percentage (%)'
                            },
                            min: 0,
                            max: 100,
                            grid: {
                                drawOnChartArea: false,
                            }
                        }
                    }
                }
            });
        }

        // ===== UI UPDATE FUNCTIONS =====
        function updateMetricsDisplay() {
            document.getElementById('metricResponseTime').textContent = state.metrics.responseTime + 'hrs';
            document.getElementById('metricSatisfaction').textContent = state.metrics.satisfaction + '%';
            document.getElementById('metricResolution').textContent = state.metrics.resolution + '%';

            const rtChange = state.metrics.responseTime - 33;
            const satChange = state.metrics.satisfaction - 83;
            const resChange = state.metrics.resolution - 67;

            document.getElementById('changeResponseTime').textContent = 
                (rtChange >= 0 ? '↑ ' : '↓ ') + Math.abs(rtChange) + 'hrs from baseline';
            document.getElementById('changeResponseTime').className = 
                'metric-change ' + (rtChange >= 0 ? 'negative' : 'positive');

            document.getElementById('changeSatisfaction').textContent = 
                (satChange >= 0 ? '↑ ' : '↓ ') + Math.abs(satChange) + 'pts from baseline';
            document.getElementById('changeSatisfaction').className = 
                'metric-change ' + (satChange >= 0 ? 'positive' : 'negative');

            document.getElementById('changeResolution').textContent = 
                (resChange >= 0 ? '↑ ' : '↓ ') + Math.abs(resChange) + 'pts from baseline';
            document.getElementById('changeResolution').className = 
                'metric-change ' + (resChange >= 0 ? 'positive' : 'negative');
        }

        function updateStakeholders() {
            const stakeholders = ['sales', 'team', 'tech'];
            const labels = {
                sales: ['Sales Team', 'Stressed about disappointing clients', 'Cautiously supportive', 'Strong partnership'],
                team: ['Service Team', 'Burned out and defensive', 'Engaged and hopeful', 'Empowered and thriving'],
                tech: ['Tech Team', 'Skeptical of more requests', 'Willing to collaborate', 'Enthusiastic partner']
            };

            stakeholders.forEach(sh => {
                const value = state.stakeholders[sh];
                const fill = document.getElementById('sat' + sh.charAt(0).toUpperCase() + sh.slice(1));
                const status = document.getElementById('status' + sh.charAt(0).toUpperCase() + sh.slice(1));

                fill.style.width = value + '%';

                if (value >= 70) {
                    fill.className = 'satisfaction-fill high';
                    status.textContent = value + '% - ' + labels[sh][3];
                } else if (value >= 50) {
                    fill.className = 'satisfaction-fill medium';
                    status.textContent = value + '% - ' + labels[sh][2];
                } else {
                    fill.className = 'satisfaction-fill low';
                    status.textContent = value + '% - ' + labels[sh][1];
                }
            });
        }

        function updateChart() {
            const labels = state.metricsHistory.map((_, idx) => idx === 0 ? 'Baseline' : 'Week ' + idx);
            const responseData = state.metricsHistory.map(m => m.responseTime);
            const satisfactionData = state.metricsHistory.map(m => m.satisfaction);
            const resolutionData = state.metricsHistory.map(m => m.resolution);

            metricsChart.data.labels = labels;
            metricsChart.data.datasets[0].data = responseData;
            metricsChart.data.datasets[1].data = satisfactionData;
            metricsChart.data.datasets[2].data = resolutionData;
            metricsChart.update();
        }

        function updateHistory() {
            const container = document.getElementById('historyContainer');
            
            if (state.history.length === 0) {
                container.innerHTML = '<p style="color: var(--text-secondary); text-align: center;">No decisions made yet.</p>';
                return;
            }

            container.innerHTML = '';
            state.history.forEach(item => {
                const div = document.createElement('div');
                div.className = 'history-item ' + item.outcome;
                div.innerHTML = `
                    <div class="history-week">Week ${item.week}</div>
                    <div class="history-problem"><strong>Situation:</strong> ${item.problem.substring(0, 120)}...</div>
                    <div class="history-action"><strong>Your Action:</strong> ${item.action}</div>
                    <div class="history-outcome"><strong>Result:</strong> ${item.outcomeText.substring(0, 180)}...</div>
                `;
                container.appendChild(div);
            });
        }

        // ===== INTRO SCREEN =====
        function startSimulation() {
            document.getElementById('introScreen').classList.add('hidden');
            setTimeout(showDecisionPanel, 1000);
        }

        // ===== MODAL FUNCTIONS =====
        function showDecisionPanel() {
            const scenario = determineNextScenario();
            
            if (!scenario || state.currentWeek > 7) {
                showCompletionModal();
                return;
            }

            updatePathIndicator();
            
            document.getElementById('panelTitle').textContent = 'Week ' + state.currentWeek + ' Challenge';
            document.getElementById('panelWeek').textContent = 'Week ' + state.currentWeek + ' of 7';
            
            document.getElementById('problemText').textContent = scenario.problem;
            document.getElementById('branchingNotice').innerHTML = getBranchingNoticeHTML();

            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';

            scenario.options.forEach((option, index) => {
                const div = document.createElement('div');
                div.className = 'option' + (option.locked ? ' locked' : '');
                div.innerHTML = `
                    <div class="option-label">Option ${index + 1}: ${option.label}</div>
                    <div class="option-text">${option.text}</div>
                    ${option.locked ? '<div class="option-locked-text">🔒 ' + option.lockedReason + '</div>' : ''}
                `;
                
                if (!option.locked) {
                    div.onclick = () => selectOption(option, scenario, index);
                }
                
                optionsContainer.appendChild(div);
            });

            document.getElementById('feedbackPanel').classList.remove('active');
            document.getElementById('continueBtn').disabled = true;
            document.getElementById('decisionPanel').classList.add('active');
            document.getElementById('mainContainer').classList.add('panel-open');
        }

        function selectOption(option, scenario, index) {
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.add('disabled');
            });

            document.querySelectorAll('.option')[index].classList.add('selected');

            state.decisionPath.push(option.decisionQuality);
            
            // Track specific choices
            if (state.currentWeek === 1) {
                state.specificChoices.week1Choice = option.id;
            } else if (state.currentWeek === 2) {
                state.specificChoices.week2Choice = option.id;
            }

            // Apply impacts
            state.metrics.responseTime += option.impact.responseTime;
            state.metrics.satisfaction += option.impact.satisfaction;
            state.metrics.resolution += option.impact.resolution;

            state.stakeholders.sales += option.impact.sales;
            state.stakeholders.team += option.impact.team;
            state.stakeholders.tech += option.impact.tech;

            // Clamp to valid ranges
            state.metrics.responseTime = Math.max(15, Math.min(60, state.metrics.responseTime));
            state.metrics.satisfaction = Math.max(0, Math.min(100, state.metrics.satisfaction));
            state.metrics.resolution = Math.max(0, Math.min(100, state.metrics.resolution));

            state.stakeholders.sales = Math.max(0, Math.min(100, state.stakeholders.sales));
            state.stakeholders.team = Math.max(0, Math.min(100, state.stakeholders.team));
            state.stakeholders.tech = Math.max(0, Math.min(100, state.stakeholders.tech));

            state.history.push({
                week: state.currentWeek,
                problem: scenario.problem,
                action: option.label,
                outcomeText: option.feedback.content,
                outcome: option.feedback.type
            });

            state.metricsHistory.push({
                week: state.currentWeek,
                responseTime: state.metrics.responseTime,
                satisfaction: state.metrics.satisfaction,
                resolution: state.metrics.resolution
            });

            const feedback = document.getElementById('feedbackPanel');
            feedback.className = 'feedback-panel active ' + option.feedback.type;
            document.getElementById('feedbackTitle').textContent = option.feedback.title;
            document.getElementById('feedbackContent').textContent = option.feedback.content;

            document.getElementById('continueBtn').disabled = false;
        }

        function continueToNextWeek() {
            state.currentWeek++;
            document.getElementById('weekNumber').textContent = 'Week ' + state.currentWeek;
            
            updateMetricsDisplay();
            updateStakeholders();
            updateChart();
            updateHistory();

            document.getElementById('decisionPanel').classList.remove('active');
            document.getElementById('mainContainer').classList.remove('panel-open');

            if (state.currentWeek <= 7) {
                setTimeout(showDecisionPanel, 800);
            } else {
                showCompletionModal();
            }
        }

        function showCompletionModal() {
            const avgStakeholder = Math.round(
                (state.stakeholders.sales + state.stakeholders.team + state.stakeholders.tech) / 3
            );

            // Determine badge based on path
            const pathBadges = {
                'excellence': { text: '🌟 Excellence Path', class: 'excellence' },
                'struggling': { text: '⚡ Struggling Path', class: 'struggling' },
                'crisis': { text: '🚨 Crisis Path', class: 'crisis' }
            };

            const badge = pathBadges[state.storyPath] || { text: 'Path Complete', class: 'struggling' };

            document.getElementById('performanceBadge').textContent = badge.text;
            document.getElementById('performanceBadge').className = 'performance-badge ' + badge.class;
            
            document.getElementById('finalResponseTime').textContent = state.metrics.responseTime + ' hrs';
            document.getElementById('finalSatisfaction').textContent = state.metrics.satisfaction + '%';
            document.getElementById('finalResolution').textContent = state.metrics.resolution + '%';
            document.getElementById('finalPath').textContent = badge.text;
            
            document.getElementById('keyInsightText').textContent = getKeyInsight();
            document.getElementById('pathSummaryText').textContent = getPathSummary();

            document.getElementById('completionModal').classList.add('active');
        }

        function getKeyInsight() {
            const excellentCount = state.decisionPath.filter(d => d === 'excellent').length;
            
            if (state.storyPath === 'excellence' && excellentCount >= 2) {
                return 'You demonstrated adaptive leadership through Weeks 1-3: diagnosing root causes, designing systemic solutions, and regulating pressure. Your decisions show you understand the difference between technical fixes and adaptive change.';
            } else if (state.storyPath === 'struggling') {
                return 'You showed adaptive thinking in moments but also reactive problem-solving. The key learning: When facing pressure, step back to diagnose patterns before jumping to solutions. Your Week 2 recovery shows resilience.';
            } else if (state.storyPath === 'crisis') {
                return 'Crisis consumed most of your energy across these weeks. The fundamental lesson: Reactive decisions compound. Even under extreme pressure, pausing to diagnose root causes prevents deeper holes. Recovery is possible but requires honest assessment.';
            }
            
            return 'You navigated these three weeks with mixed approaches. Continue developing your ability to distinguish technical problems (apply fixes) from adaptive challenges (require systemic change).';
        }

        function getPathSummary() {
            const journeys = {
                'excellence': 'Week 1: Strategic diagnosis → Week 2: Systemic redesign → Week 3: Disciplined execution. This is the path of adaptive leadership—seeing patterns, changing systems, and holding steady under pressure.',
                'struggling': 'Week 1: Reactive response → Week 2: Recovery attempt → Week 3: Execution focus. Your journey shows the importance of learning from mistakes. Strategic thinking can be developed—this path proves it.',
                'crisis': 'Week 1: Reactive firefighting → Week 2: Deepening crisis → Week 3: Survival mode. This path shows how reactive decisions compound. The way forward: honest assessment, small wins, and systemic thinking over quick fixes.'
            };

            return journeys[state.storyPath] || 'You completed three weeks of the simulation with various outcomes.';
        }

        // ===== EVENT LISTENERS =====
        document.getElementById('continueBtn').addEventListener('click', continueToNextWeek);

        // ===== INITIALIZATION =====
        initChart();
        updateMetricsDisplay();
        updateStakeholders();
        updateHistory();
        updatePathIndicator();
    </script>
</body>
</html>